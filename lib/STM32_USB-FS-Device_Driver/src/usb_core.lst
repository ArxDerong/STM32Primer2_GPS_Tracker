   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"usb_core.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.Standard_GetConfiguration,"ax",%progbits
  19              		.align	1
  20              		.global	Standard_GetConfiguration
  21              		.thumb
  22              		.thumb_func
  24              	Standard_GetConfiguration:
  25              	.LFB57:
  26              		.file 1 "lib/STM32_USB-FS-Device_Driver/src/usb_core.c"
   1:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /**
   2:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ******************************************************************************
   3:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @file    usb_core.c
   4:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @author  MCD Application Team
   5:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @version V4.0.0
   6:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @date    28-August-2012
   7:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @brief   Standard protocol processing (USB v2.0)
   8:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ******************************************************************************
   9:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * @attention
  10:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *
  11:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *
  13:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * You may not use this file except in compliance with the License.
  15:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * You may obtain a copy of the License at:
  16:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *
  17:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *
  19:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * See the License for the specific language governing permissions and
  23:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   * limitations under the License.
  24:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   *
  25:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ******************************************************************************
  26:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   */
  27:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  28:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  29:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Includes ------------------------------------------------------------------*/
  30:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #include "usb_lib.h"
  31:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private typedef -----------------------------------------------------------*/
  32:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private define ------------------------------------------------------------*/
  33:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define ValBit(VAR,Place)    (VAR & (1 << Place))
  34:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define SetBit(VAR,Place)    (VAR |= (1 << Place))
  35:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define ClrBit(VAR,Place)    (VAR &= ((1 << Place) ^ 255))
  36:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define Send0LengthData() { _SetEPTxCount(ENDP0, 0); \
  37:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPTxStatus(EP_TX_VALID); \
  38:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
  39:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  40:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define vSetEPRxStatus(st) (SaveRState = st)
  41:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define vSetEPTxStatus(st) (SaveTState = st)
  42:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  43:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define USB_StatusIn() Send0LengthData()
  44:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define USB_StatusOut() vSetEPRxStatus(EP_RX_VALID)
  45:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  46:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define StatusInfo0 StatusInfo.bw.bb1 /* Reverse bb0 & bb1 */
  47:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** #define StatusInfo1 StatusInfo.bw.bb0
  48:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  49:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private macro -------------------------------------------------------------*/
  50:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private variables ---------------------------------------------------------*/
  51:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint16_t_uint8_t StatusInfo;
  52:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  53:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** bool Data_Mul_MaxPacketSize = FALSE;
  54:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private function prototypes -----------------------------------------------*/
  55:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** static void DataStageOut(void);
  56:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** static void DataStageIn(void);
  57:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** static void NoData_Setup0(void);
  58:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** static void Data_Setup0(void);
  59:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /* Private functions ---------------------------------------------------------*/
  60:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  61:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
  62:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_GetConfiguration.
  63:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Return the current configuration variable address.
  64:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : Length - How many bytes are needed.
  65:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
  66:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Return 1 , if the request is invalid when "Length" is 0.
  67:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Return "Buffer" if the "Length" is not 0.
  68:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
  69:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t *Standard_GetConfiguration(uint16_t Length)
  70:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
  27              		.loc 1 70 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 10B5     		push	{r4, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  37 0002 064C     		ldr	r4, .L5
  71:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length == 0)
  38              		.loc 1 71 0
  39 0004 18B9     		cbnz	r0, .L2
  72:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
  73:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wLength =
  40              		.loc 1 73 0
  41 0006 2368     		ldr	r3, [r4, #0]
  42 0008 0122     		movs	r2, #1
  43 000a 1A82     		strh	r2, [r3, #16]	@ movhi
  74:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       sizeof(pInformation->Current_Configuration);
  75:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return 0;
  44              		.loc 1 75 0
  45 000c 10BD     		pop	{r4, pc}
  46              	.L2:
  76:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
  77:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_GetConfiguration();
  47              		.loc 1 77 0
  48 000e 044B     		ldr	r3, .L5+4
  49 0010 1868     		ldr	r0, [r3, #0]
  50              	.LVL1:
  51 0012 0168     		ldr	r1, [r0, #0]
  52 0014 8847     		blx	r1
  53              	.LVL2:
  78:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return (uint8_t *)&pInformation->Current_Configuration;
  54              		.loc 1 78 0
  55 0016 2068     		ldr	r0, [r4, #0]
  56 0018 0A30     		adds	r0, r0, #10
  79:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
  57              		.loc 1 79 0
  58 001a 10BD     		pop	{r4, pc}
  59              	.L6:
  60              		.align	2
  61              	.L5:
  62 001c 00000000 		.word	pInformation
  63 0020 00000000 		.word	pUser_Standard_Requests
  64              		.cfi_endproc
  65              	.LFE57:
  67              		.section	.text.Standard_GetInterface,"ax",%progbits
  68              		.align	1
  69              		.global	Standard_GetInterface
  70              		.thumb
  71              		.thumb_func
  73              	Standard_GetInterface:
  74              	.LFB59:
  80:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  81:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
  82:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_SetConfiguration.
  83:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : This routine is called to set the configuration value
  84:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Then each class should configure device itself.
  85:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
  86:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
  87:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Return USB_SUCCESS, if the request is performed.
  88:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Return USB_UNSUPPORT, if the request is invalid.
  89:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
  90:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** RESULT Standard_SetConfiguration(void)
  91:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
  92:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
  93:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((pInformation->USBwValue0 <=
  94:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Device_Table.Total_Configuration) && (pInformation->USBwValue1 == 0)
  95:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       && (pInformation->USBwIndex == 0)) /*call Back usb spec 2.0*/
  96:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
  97:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Current_Configuration = pInformation->USBwValue0;
  98:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pUser_Standard_Requests->User_SetConfiguration();
  99:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 100:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 101:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 102:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 103:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_UNSUPPORT;
 104:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 105:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 106:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 107:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 108:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_GetInterface.
 109:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Return the Alternate Setting of the current interface.
 110:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : Length - How many bytes are needed.
 111:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 112:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Return 0, if the request is invalid when "Length" is 0.
 113:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Return "Buffer" if the "Length" is not 0.
 114:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 115:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t *Standard_GetInterface(uint16_t Length)
 116:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
  75              		.loc 1 116 0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79              	.LVL3:
  80 0000 10B5     		push	{r4, lr}
  81              	.LCFI1:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 4, -8
  84              		.cfi_offset 14, -4
  85 0002 064C     		ldr	r4, .L10
 117:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length == 0)
  86              		.loc 1 117 0
  87 0004 18B9     		cbnz	r0, .L8
 118:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 119:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wLength =
  88              		.loc 1 119 0
  89 0006 2368     		ldr	r3, [r4, #0]
  90 0008 0122     		movs	r2, #1
  91 000a 1A82     		strh	r2, [r3, #16]	@ movhi
 120:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       sizeof(pInformation->Current_AlternateSetting);
 121:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return 0;
  92              		.loc 1 121 0
  93 000c 10BD     		pop	{r4, pc}
  94              	.L8:
 122:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 123:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_GetInterface();
  95              		.loc 1 123 0
  96 000e 044B     		ldr	r3, .L10+4
  97 0010 1868     		ldr	r0, [r3, #0]
  98              	.LVL4:
  99 0012 8168     		ldr	r1, [r0, #8]
 100 0014 8847     		blx	r1
 101              	.LVL5:
 124:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return (uint8_t *)&pInformation->Current_AlternateSetting;
 102              		.loc 1 124 0
 103 0016 2068     		ldr	r0, [r4, #0]
 104 0018 0C30     		adds	r0, r0, #12
 125:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 105              		.loc 1 125 0
 106 001a 10BD     		pop	{r4, pc}
 107              	.L11:
 108              		.align	2
 109              	.L10:
 110 001c 00000000 		.word	pInformation
 111 0020 00000000 		.word	pUser_Standard_Requests
 112              		.cfi_endproc
 113              	.LFE59:
 115              		.section	.text.Standard_GetStatus,"ax",%progbits
 116              		.align	1
 117              		.global	Standard_GetStatus
 118              		.thumb
 119              		.thumb_func
 121              	Standard_GetStatus:
 122              	.LFB61:
 126:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 127:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 128:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_SetInterface.
 129:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : This routine is called to set the interface.
 130:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Then each class should configure the interface them self.
 131:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 132:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 133:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : - Return USB_SUCCESS, if the request is performed.
 134:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - Return USB_UNSUPPORT, if the request is invalid.
 135:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 136:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** RESULT Standard_SetInterface(void)
 137:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 138:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   RESULT Re;
 139:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*Test if the specified Interface and Alternate Setting are supported by
 140:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     the application Firmware*/
 141:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   Re = (*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, pInformation->USBwValue0
 142:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 143:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->Current_Configuration != 0)
 144:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 145:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Re != USB_SUCCESS) || (pInformation->USBwIndex1 != 0)
 146:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->USBwValue1 != 0))
 147:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 148:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return  USB_UNSUPPORT;
 149:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 150:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (Re == USB_SUCCESS)
 151:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 152:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pUser_Standard_Requests->User_SetInterface();
 153:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Current_Interface = pInformation->USBwIndex0;
 154:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Current_AlternateSetting = pInformation->USBwValue0;
 155:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return USB_SUCCESS;
 156:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 157:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 158:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 159:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 160:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_UNSUPPORT;
 161:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 162:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 163:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 164:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_GetStatus.
 165:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Copy the device request data to "StatusInfo buffer".
 166:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : - Length - How many bytes are needed.
 167:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 168:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Return 0, if the request is at end of data block,
 169:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  or is invalid when "Length" is 0.
 170:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 171:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t *Standard_GetStatus(uint16_t Length)
 172:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 123              		.loc 1 172 0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              	.LVL6:
 128 0000 08B5     		push	{r3, lr}
 129              	.LCFI2:
 130              		.cfi_def_cfa_offset 8
 131              		.cfi_offset 3, -8
 132              		.cfi_offset 14, -4
 133 0002 234A     		ldr	r2, .L29
 173:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length == 0)
 134              		.loc 1 173 0
 135 0004 18B9     		cbnz	r0, .L13
 174:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 175:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wLength = 2;
 136              		.loc 1 175 0
 137 0006 1368     		ldr	r3, [r2, #0]
 138 0008 0222     		movs	r2, #2
 139 000a 1A82     		strh	r2, [r3, #16]	@ movhi
 176:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return 0;
 140              		.loc 1 176 0
 141 000c 08BD     		pop	{r3, pc}
 142              	.L13:
 177:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 178:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 179:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* Reset Status Information */
 180:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   StatusInfo.w = 0;
 143              		.loc 1 180 0
 144 000e 214B     		ldr	r3, .L29+4
 145 0010 0020     		movs	r0, #0
 146              	.LVL7:
 147 0012 1880     		strh	r0, [r3, #0]	@ movhi
 181:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 182:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 148              		.loc 1 182 0
 149 0014 1268     		ldr	r2, [r2, #0]
 150 0016 1178     		ldrb	r1, [r2, #0]	@ zero_extendqisi2
 151 0018 11F07F01 		ands	r1, r1, #127
 152 001c 13D1     		bne	.L15
 153              	.LBB2:
 183:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 184:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*Get Device Status */
 185:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint8_t Feature = pInformation->Current_Feature;
 154              		.loc 1 185 0
 155 001e 507A     		ldrb	r0, [r2, #9]	@ zero_extendqisi2
 156              	.LVL8:
 186:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 187:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Remote Wakeup enabled */
 188:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(Feature, 5))
 157              		.loc 1 188 0
 158 0020 00F02002 		and	r2, r0, #32
 159              	.LVL9:
 160 0024 D1B2     		uxtb	r1, r2
 161 0026 09B1     		cbz	r1, .L16
 189:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 190:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       SetBit(StatusInfo0, 1);
 162              		.loc 1 190 0
 163 0028 0222     		movs	r2, #2
 164 002a 1A70     		strb	r2, [r3, #0]
 165              	.L16:
 191:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 192:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else
 193:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 194:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ClrBit(StatusInfo0, 1);
 195:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }      
 196:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 197:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Bus-powered */
 198:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(Feature, 6))
 166              		.loc 1 198 0
 167 002c 00F04003 		and	r3, r0, #64
 168 0030 D8B2     		uxtb	r0, r3
 169 0032 184B     		ldr	r3, .L29+4
 170 0034 18B1     		cbz	r0, .L17
 199:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 200:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       SetBit(StatusInfo0, 0);
 171              		.loc 1 200 0
 172 0036 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 173 0038 42F00101 		orr	r1, r2, #1
 174 003c 1EE0     		b	.L25
 175              	.L17:
 201:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 202:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else /* Self-powered */
 203:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 204:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ClrBit(StatusInfo0, 0);
 176              		.loc 1 204 0
 177 003e 1978     		ldrb	r1, [r3, #0]	@ zero_extendqisi2
 178 0040 21F00101 		bic	r1, r1, #1
 179 0044 1AE0     		b	.L25
 180              	.LVL10:
 181              	.L15:
 182              	.LBE2:
 205:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 206:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 207:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*Interface Status*/
 208:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 183              		.loc 1 208 0
 184 0046 0129     		cmp	r1, #1
 185 0048 1FD0     		beq	.L20
 209:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 210:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return (uint8_t *)&StatusInfo;
 211:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 212:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*Get EndPoint Status*/
 213:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 186              		.loc 1 213 0
 187 004a 0229     		cmp	r1, #2
 188 004c 1ED1     		bne	.L14
 189              	.LBB3:
 214:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 215:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint8_t Related_Endpoint;
 216:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint8_t wIndex0 = pInformation->USBwIndex0;
 190              		.loc 1 216 0
 191 004e 5079     		ldrb	r0, [r2, #5]	@ zero_extendqisi2
 192              	.LVL11:
 217:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 218:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Related_Endpoint = (wIndex0 & 0x0f);
 193              		.loc 1 218 0
 194 0050 00F00F02 		and	r2, r0, #15
 195              	.LVL12:
 219:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(wIndex0, 7))
 196              		.loc 1 219 0
 197 0054 10F0800F 		tst	r0, #128
 198 0058 4FEA8201 		lsl	r1, r2, #2
 220:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 221:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* IN endpoint */
 222:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetTxStallStatus(Related_Endpoint))
 199              		.loc 1 222 0
 200 005c 01F18040 		add	r0, r1, #1073741824
 201 0060 00F5B842 		add	r2, r0, #23552
 202              	.LVL13:
 203 0064 1168     		ldr	r1, [r2, #0]
 219:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(wIndex0, 7))
 204              		.loc 1 219 0
 205 0066 03D0     		beq	.L19
 206              		.loc 1 222 0
 207 0068 01F03002 		and	r2, r1, #48
 208 006c 102A     		cmp	r2, #16
 209 006e 03E0     		b	.L28
 210              	.L19:
 223:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 224:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         SetBit(StatusInfo0, 0); /* IN Endpoint stalled */
 225:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 226:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 227:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else
 228:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 229:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* OUT endpoint */
 230:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetRxStallStatus(Related_Endpoint))
 211              		.loc 1 230 0
 212 0070 01F44050 		and	r0, r1, #12288
 213 0074 B0F5805F 		cmp	r0, #4096
 214              	.L28:
 215 0078 01D1     		bne	.L18
 231:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 232:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         SetBit(StatusInfo0, 0); /* OUT Endpoint stalled */
 216              		.loc 1 232 0
 217 007a 0121     		movs	r1, #1
 218              	.LVL14:
 219              	.L25:
 220 007c 1970     		strb	r1, [r3, #0]
 221              	.L18:
 222              	.LBE3:
 233:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 234:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 235:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 236:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 237:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 238:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 239:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return NULL;
 240:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 241:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_GetStatus();
 223              		.loc 1 241 0
 224 007e 064B     		ldr	r3, .L29+8
 225 0080 1868     		ldr	r0, [r3, #0]
 226 0082 0169     		ldr	r1, [r0, #16]
 227 0084 8847     		blx	r1
 228              	.LVL15:
 242:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return (uint8_t *)&StatusInfo;
 229              		.loc 1 242 0
 230 0086 0348     		ldr	r0, .L29+4
 231 0088 08BD     		pop	{r3, pc}
 232              	.L20:
 210:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return (uint8_t *)&StatusInfo;
 233              		.loc 1 210 0
 234 008a 1846     		mov	r0, r3
 235              	.L14:
 243:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 236              		.loc 1 243 0
 237 008c 08BD     		pop	{r3, pc}
 238              	.L30:
 239 008e 00BF     		.align	2
 240              	.L29:
 241 0090 00000000 		.word	pInformation
 242 0094 00000000 		.word	.LANCHOR0
 243 0098 00000000 		.word	pUser_Standard_Requests
 244              		.cfi_endproc
 245              	.LFE61:
 247              		.section	.text.DataStageIn,"ax",%progbits
 248              		.align	1
 249              		.thumb
 250              		.thumb_func
 252              	DataStageIn:
 253              	.LFB67:
 244:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 245:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 246:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_ClearFeature.
 247:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Clear or disable a specific feature.
 248:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 249:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 250:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : - Return USB_SUCCESS, if the request is performed.
 251:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - Return USB_UNSUPPORT, if the request is invalid.
 252:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 253:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** RESULT Standard_ClearFeature(void)
 254:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 255:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t     Type_Rec = Type_Recipient;
 256:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t     Status;
 257:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 258:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 259:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Type_Rec == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 260:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {/*Device Clear Feature*/
 261:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ClrBit(pInformation->Current_Feature, 5);
 262:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 263:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 264:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Rec == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 265:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {/*EndPoint Clear Feature*/
 266:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DEVICE* pDev;
 267:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint32_t Related_Endpoint;
 268:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint32_t wIndex0;
 269:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint32_t rEP;
 270:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 271:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((pInformation->USBwValue != ENDPOINT_STALL)
 272:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->USBwIndex1 != 0))
 273:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 274:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return USB_UNSUPPORT;
 275:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 276:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 277:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pDev = &Device_Table;
 278:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     wIndex0 = pInformation->USBwIndex0;
 279:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     rEP = wIndex0 & ~0x80;
 280:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Related_Endpoint = ENDP0 + rEP;
 281:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 282:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(pInformation->USBwIndex0, 7))
 283:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 284:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /*Get Status of endpoint & stall the request if the related_ENdpoint
 285:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       is Disabled*/
 286:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Status = _GetEPTxStatus(Related_Endpoint);
 287:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 288:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else
 289:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 290:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Status = _GetEPRxStatus(Related_Endpoint);
 291:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 292:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 293:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((rEP >= pDev->Total_Endpoint) || (Status == 0)
 294:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->Current_Configuration == 0))
 295:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 296:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return USB_UNSUPPORT;
 297:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 298:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 299:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 300:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 301:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 302:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* IN endpoint */
 303:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetTxStallStatus(Related_Endpoint ))
 304:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 305:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         ClearDTOG_TX(Related_Endpoint);
 306:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         SetEPTxStatus(Related_Endpoint, EP_TX_VALID);
 307:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 308:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 309:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else
 310:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 311:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* OUT endpoint */
 312:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetRxStallStatus(Related_Endpoint))
 313:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 314:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         if (Related_Endpoint == ENDP0)
 315:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         {
 316:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           /* After clear the STALL, enable the default endpoint receiver */
 317:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           SetEPRxCount(Related_Endpoint, Device_Property.MaxPacketSize);
 318:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           _SetEPRxStatus(Related_Endpoint, EP_RX_VALID);
 319:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         }
 320:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         else
 321:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         {
 322:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           ClearDTOG_RX(Related_Endpoint);
 323:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           _SetEPRxStatus(Related_Endpoint, EP_RX_VALID);
 324:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         }
 325:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 326:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 327:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pUser_Standard_Requests->User_ClearFeature();
 328:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 329:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 330:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 331:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_UNSUPPORT;
 332:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 333:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 334:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 335:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_SetEndPointFeature
 336:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Set or enable a specific feature of EndPoint
 337:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 338:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 339:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : - Return USB_SUCCESS, if the request is performed.
 340:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - Return USB_UNSUPPORT, if the request is invalid.
 341:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 342:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** RESULT Standard_SetEndPointFeature(void)
 343:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 344:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t    wIndex0;
 345:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t    Related_Endpoint;
 346:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t    rEP;
 347:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t    Status;
 348:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 349:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   wIndex0 = pInformation->USBwIndex0;
 350:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   rEP = wIndex0 & ~0x80;
 351:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   Related_Endpoint = ENDP0 + rEP;
 352:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 353:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (ValBit(pInformation->USBwIndex0, 7))
 354:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 355:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* get Status of endpoint & stall the request if the related_ENdpoint
 356:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     is Disabled*/
 357:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Status = _GetEPTxStatus(Related_Endpoint);
 358:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 359:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 360:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 361:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Status = _GetEPRxStatus(Related_Endpoint);
 362:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 363:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 364:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Related_Endpoint >= Device_Table.Total_Endpoint
 365:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       || pInformation->USBwValue != 0 || Status == 0
 366:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       || pInformation->Current_Configuration == 0)
 367:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 368:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_UNSUPPORT;
 369:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 370:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 371:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 372:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 373:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 374:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* IN endpoint */
 375:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       _SetEPTxStatus(Related_Endpoint, EP_TX_STALL);
 376:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 377:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 378:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else
 379:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 380:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* OUT endpoint */
 381:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       _SetEPRxStatus(Related_Endpoint, EP_RX_STALL);
 382:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 383:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 384:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_SetEndPointFeature();
 385:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_SUCCESS;
 386:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 387:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 388:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 389:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_SetDeviceFeature.
 390:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Set or enable a specific feature of Device.
 391:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 392:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 393:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : - Return USB_SUCCESS, if the request is performed.
 394:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - Return USB_UNSUPPORT, if the request is invalid.
 395:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 396:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** RESULT Standard_SetDeviceFeature(void)
 397:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 398:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetBit(pInformation->Current_Feature, 5);
 399:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_SetDeviceFeature();
 400:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_SUCCESS;
 401:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 402:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 403:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 404:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Standard_GetDescriptorData.
 405:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Standard_GetDescriptorData is used for descriptors transfer.
 406:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                : This routine is used for the descriptors resident in Flash
 407:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  or RAM
 408:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  pDesc can be in either Flash or RAM
 409:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  The purpose of this routine is to have a versatile way to
 410:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  response descriptors request. It allows user to generate
 411:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  certain descriptors with software or read descriptors from
 412:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  external storage part by part.
 413:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : - Length - Length of the data in this transfer.
 414:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - pDesc - A pointer points to descriptor struct.
 415:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  The structure gives the initial address of the descriptor and
 416:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  its original size.
 417:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 418:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Address of a part of the descriptor pointed by the Usb_
 419:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  wOffset The buffer pointed by this address contains at least
 420:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  Length bytes.
 421:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 422:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t *Standard_GetDescriptorData(uint16_t Length, ONE_DESCRIPTOR *pDesc)
 423:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 424:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t  wOffset;
 425:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 426:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   wOffset = pInformation->Ctrl_Info.Usb_wOffset;
 427:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length == 0)
 428:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 429:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wLength = pDesc->Descriptor_Size - wOffset;
 430:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return 0;
 431:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 432:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 433:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return pDesc->Descriptor + wOffset;
 434:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 435:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 436:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 437:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : DataStageOut.
 438:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Data stage of a Control Write Transfer.
 439:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 440:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 441:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
 442:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 443:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void DataStageOut(void)
 444:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 445:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ENDPOINT_INFO *pEPinfo = &pInformation->Ctrl_Info;
 446:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t save_rLength;
 447:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 448:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   save_rLength = pEPinfo->Usb_rLength;
 449:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 450:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->CopyData && save_rLength)
 451:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 452:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint8_t *Buffer;
 453:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint32_t Length;
 454:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 455:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Length = pEPinfo->PacketSize;
 456:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Length > save_rLength)
 457:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 458:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Length = save_rLength;
 459:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 460:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 461:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Buffer = (*pEPinfo->CopyData)(Length);
 462:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pEPinfo->Usb_rLength -= Length;
 463:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pEPinfo->Usb_rOffset += Length;
 464:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     PMAToUserBufferCopy(Buffer, GetEPRxAddr(ENDP0), Length);
 465:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 466:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 467:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 468:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->Usb_rLength != 0)
 469:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 470:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_VALID);/* re-enable for next data reception */
 471:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     SetEPTxCount(ENDP0, 0);
 472:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPTxStatus(EP_TX_VALID);/* Expect the host to abort the data OUT stage */
 473:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 474:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* Set the next State*/
 475:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->Usb_rLength >= pEPinfo->PacketSize)
 476:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 477:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = OUT_DATA;
 478:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 479:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 480:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 481:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (pEPinfo->Usb_rLength > 0)
 482:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 483:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = LAST_OUT_DATA;
 484:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 485:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (pEPinfo->Usb_rLength == 0)
 486:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 487:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = WAIT_STATUS_IN;
 488:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       USB_StatusIn();
 489:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 490:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 491:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 492:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 493:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 494:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : DataStageIn.
 495:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Data stage of a Control Read Transfer.
 496:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 497:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 498:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
 499:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 500:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void DataStageIn(void)
 501:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 254              		.loc 1 501 0
 255              		.cfi_startproc
 256              		@ args = 0, pretend = 0, frame = 0
 257              		@ frame_needed = 0, uses_anonymous_args = 0
 258 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 259              	.LCFI3:
 260              		.cfi_def_cfa_offset 24
 261              		.cfi_offset 3, -24
 262              		.cfi_offset 4, -20
 263              		.cfi_offset 5, -16
 264              		.cfi_offset 6, -12
 265              		.cfi_offset 7, -8
 266              		.cfi_offset 14, -4
 502:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ENDPOINT_INFO *pEPinfo = &pInformation->Ctrl_Info;
 267              		.loc 1 502 0
 268 0002 214B     		ldr	r3, .L37
 269 0004 1C68     		ldr	r4, [r3, #0]
 270              	.LVL16:
 503:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t save_wLength = pEPinfo->Usb_wLength;
 271              		.loc 1 503 0
 272 0006 238A     		ldrh	r3, [r4, #16]
 273              	.LVL17:
 504:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState = pInformation->ControlState;
 274              		.loc 1 504 0
 275 0008 267A     		ldrb	r6, [r4, #8]	@ zero_extendqisi2
 276              	.LVL18:
 505:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 506:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint8_t *DataBuffer;
 507:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t Length;
 508:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 509:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((save_wLength == 0) && (ControlState == LAST_IN_DATA))
 277              		.loc 1 509 0
 278 000a A3B9     		cbnz	r3, .L32
 279              		.loc 1 509 0 is_stmt 0 discriminator 1
 280 000c 042E     		cmp	r6, #4
 281 000e 12D1     		bne	.L32
 510:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 511:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if(Data_Mul_MaxPacketSize == TRUE)
 282              		.loc 1 511 0 is_stmt 1
 283 0010 1E48     		ldr	r0, .L37+4
 284 0012 0278     		ldrb	r2, [r0, #0]	@ zero_extendqisi2
 285 0014 1E49     		ldr	r1, .L37+8
 286 0016 52B1     		cbz	r2, .L33
 512:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 513:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* No more data to send and empty packet */
 514:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Send0LengthData();
 287              		.loc 1 514 0
 288 0018 1E4C     		ldr	r4, .L37+12
 289              	.LVL19:
 290 001a 2268     		ldr	r2, [r4, #0]
 515:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ControlState = LAST_IN_DATA;
 516:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Data_Mul_MaxPacketSize = FALSE;
 517:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 518:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else 
 519:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 520:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       /* No more data to send so STALL the TX Status*/
 521:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ControlState = WAIT_STATUS_OUT;
 522:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       vSetEPTxStatus(EP_TX_STALL);
 523:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****  
 524:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 525:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     
 526:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     goto Expect_Status_Out;
 527:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 528:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 529:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   Length = pEPinfo->PacketSize;
 530:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ControlState = (save_wLength <= Length) ? LAST_IN_DATA : IN_DATA;
 531:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 532:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length > save_wLength)
 533:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 534:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Length = save_wLength;
 535:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 536:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 537:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   DataBuffer = (*pEPinfo->CopyData)(Length);
 538:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   
 539:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   UserToPMABufferCopy(DataBuffer, GetEPTxAddr(ENDP0), Length);
 540:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 541:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetEPTxCount(ENDP0, Length);
 542:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 543:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pEPinfo->Usb_wLength -= Length;
 544:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pEPinfo->Usb_wOffset += Length;
 545:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   vSetEPTxStatus(EP_TX_VALID);
 546:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 547:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   USB_StatusOut();/* Expect the host to abort the data IN stage */
 548:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 549:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** Expect_Status_Out:
 550:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 551:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 552:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 553:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 554:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : NoData_Setup0.
 555:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Proceed the processing of setup request without data stage.
 556:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 557:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 558:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
 559:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 560:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void NoData_Setup0(void)
 561:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 562:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   RESULT Result = USB_UNSUPPORT;
 563:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t RequestNo = pInformation->USBbRequest;
 564:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState;
 565:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 566:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 567:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 568:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Device Request*/
 569:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* SET_CONFIGURATION*/
 570:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == SET_CONFIGURATION)
 571:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 572:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetConfiguration();
 573:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 574:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 575:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*SET ADDRESS*/
 576:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_ADDRESS)
 577:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 578:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((pInformation->USBwValue0 > 127) || (pInformation->USBwValue1 != 0)
 579:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           || (pInformation->USBwIndex != 0)
 580:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           || (pInformation->Current_Configuration != 0))
 581:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         /* Device Address should be 127 or less*/
 582:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 583:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         ControlState = STALLED;
 584:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         goto exit_NoData_Setup0;
 585:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 586:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else
 587:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 588:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = USB_SUCCESS;
 589:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 590:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 591:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*SET FEATURE for Device*/
 592:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_FEATURE)
 593:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 594:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((pInformation->USBwValue0 == DEVICE_REMOTE_WAKEUP) \
 595:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (pInformation->USBwIndex == 0))
 596:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 597:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = Standard_SetDeviceFeature();
 598:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 599:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else
 600:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 601:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = USB_UNSUPPORT;
 602:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 603:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 604:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*Clear FEATURE for Device */
 605:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == CLEAR_FEATURE)
 606:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 607:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (pInformation->USBwValue0 == DEVICE_REMOTE_WAKEUP
 608:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && pInformation->USBwIndex == 0
 609:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && ValBit(pInformation->Current_Feature, 5))
 610:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 611:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = Standard_ClearFeature();
 612:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 613:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else
 614:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 615:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = USB_UNSUPPORT;
 616:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 617:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 618:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 619:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 620:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 621:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* Interface Request*/
 622:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 623:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 624:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*SET INTERFACE*/
 625:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == SET_INTERFACE)
 626:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 627:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetInterface();
 628:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 629:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 630:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 631:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* EndPoint Request*/
 632:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 633:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 634:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /*CLEAR FEATURE for EndPoint*/
 635:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == CLEAR_FEATURE)
 636:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 637:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_ClearFeature();
 638:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 639:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* SET FEATURE for EndPoint*/
 640:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_FEATURE)
 641:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 642:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetEndPointFeature();
 643:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 644:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 645:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 646:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 647:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = USB_UNSUPPORT;
 648:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 649:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 650:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 651:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Result != USB_SUCCESS)
 652:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 653:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = (*pProperty->Class_NoData_Setup)(RequestNo);
 654:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Result == USB_NOT_READY)
 655:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 656:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ControlState = PAUSE;
 657:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       goto exit_NoData_Setup0;
 658:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 659:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 660:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 661:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Result != USB_SUCCESS)
 662:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 663:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 664:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     goto exit_NoData_Setup0;
 665:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 666:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 667:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ControlState = WAIT_STATUS_IN;/* After no data stage SETUP */
 668:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 669:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   USB_StatusIn();
 670:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 671:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** exit_NoData_Setup0:
 672:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 673:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return;
 674:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 675:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 676:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 677:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Data_Setup0.
 678:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Proceed the processing of setup request with data stage.
 679:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 680:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 681:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
 682:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 683:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void Data_Setup0(void)
 684:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 685:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint8_t *(*CopyRoutine)(uint16_t);
 686:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   RESULT Result;
 687:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t Request_No = pInformation->USBbRequest;
 688:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 689:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t Related_Endpoint, Reserved;
 690:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t wOffset, Status;
 691:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 692:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 693:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 694:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   CopyRoutine = NULL;
 695:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   wOffset = 0;
 696:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 697:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*GET DESCRIPTOR*/
 698:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Request_No == GET_DESCRIPTOR)
 699:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 700:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 701:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 702:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       uint8_t wValue1 = pInformation->USBwValue1;
 703:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (wValue1 == DEVICE_DESCRIPTOR)
 704:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 705:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetDeviceDescriptor;
 706:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 707:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if (wValue1 == CONFIG_DESCRIPTOR)
 708:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 709:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetConfigDescriptor;
 710:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 711:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if (wValue1 == STRING_DESCRIPTOR)
 712:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 713:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetStringDescriptor;
 714:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }  /* End of GET_DESCRIPTOR */
 715:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 716:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 717:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 718:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*GET STATUS*/
 719:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if ((Request_No == GET_STATUS) && (pInformation->USBwValue == 0)
 720:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****            && (pInformation->USBwLength == 0x0002)
 721:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****            && (pInformation->USBwIndex1 == 0))
 722:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 723:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* GET STATUS for Device*/
 724:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 725:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->USBwIndex == 0))
 726:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 727:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetStatus;
 728:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 729:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 730:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* GET STATUS for Interface*/
 731:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 732:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 733:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (((*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, 0) == USB_SUCCESS)
 734:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (pInformation->Current_Configuration != 0))
 735:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 736:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = Standard_GetStatus;
 737:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 738:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 739:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 740:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* GET STATUS for EndPoint*/
 741:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (Type_Recipient == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 742:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 743:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Related_Endpoint = (pInformation->USBwIndex0 & 0x0f);
 744:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Reserved = pInformation->USBwIndex0 & 0x70;
 745:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 746:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (ValBit(pInformation->USBwIndex0, 7))
 747:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 748:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         /*Get Status of endpoint & stall the request if the related_ENdpoint
 749:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         is Disabled*/
 750:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Status = _GetEPTxStatus(Related_Endpoint);
 751:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 752:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else
 753:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 754:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Status = _GetEPRxStatus(Related_Endpoint);
 755:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 756:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 757:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((Related_Endpoint < Device_Table.Total_Endpoint) && (Reserved == 0)
 758:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (Status != 0))
 759:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 760:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = Standard_GetStatus;
 761:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 762:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 763:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 764:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 765:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 766:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*GET CONFIGURATION*/
 767:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Request_No == GET_CONFIGURATION)
 768:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 769:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 770:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 771:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetConfiguration;
 772:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 773:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 774:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /*GET INTERFACE*/
 775:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Request_No == GET_INTERFACE)
 776:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 777:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 778:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->Current_Configuration != 0) && (pInformation->USBwValue == 0)
 779:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->USBwIndex1 == 0) && (pInformation->USBwLength == 0x0001)
 780:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && ((*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, 0) == USB_SUCCESS))
 781:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 782:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetInterface;
 783:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 784:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 785:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 786:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   
 787:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (CopyRoutine)
 788:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 789:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wOffset = wOffset;
 790:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.CopyData = CopyRoutine;
 791:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* sb in the original the cast to word was directly */
 792:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* now the cast is made step by step */
 793:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*CopyRoutine)(0);
 794:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = USB_SUCCESS;
 795:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 796:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 797:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 798:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = (*pProperty->Class_Data_Setup)(pInformation->USBbRequest);
 799:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Result == USB_NOT_READY)
 800:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 801:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = PAUSE;
 802:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return;
 803:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 804:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 805:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 806:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->Ctrl_Info.Usb_wLength == 0xFFFF)
 807:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 808:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Data is not ready, wait it */
 809:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = PAUSE;
 810:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return;
 811:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 812:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((Result == USB_UNSUPPORT) || (pInformation->Ctrl_Info.Usb_wLength == 0))
 813:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 814:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Unsupported request */
 815:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = STALLED;
 816:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return;
 817:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 818:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 819:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 820:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (ValBit(pInformation->USBbmRequestType, 7))
 821:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 822:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Device ==> Host */
 823:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     __IO uint32_t wLength = pInformation->USBwLength;
 824:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****      
 825:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Restrict the data length to be the one host asks for */
 826:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (pInformation->Ctrl_Info.Usb_wLength > wLength)
 827:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 828:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Ctrl_Info.Usb_wLength = wLength;
 829:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 830:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     
 831:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (pInformation->Ctrl_Info.Usb_wLength < pInformation->USBwLength)
 832:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 833:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (pInformation->Ctrl_Info.Usb_wLength < pProperty->MaxPacketSize)
 834:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 835:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Data_Mul_MaxPacketSize = FALSE;
 836:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 837:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if ((pInformation->Ctrl_Info.Usb_wLength % pProperty->MaxPacketSize) == 0)
 838:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       {
 839:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Data_Mul_MaxPacketSize = TRUE;
 840:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       }
 841:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }   
 842:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 843:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.PacketSize = pProperty->MaxPacketSize;
 844:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DataStageIn();
 845:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 846:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 847:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 848:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = OUT_DATA;
 849:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_VALID); /* enable for next data reception */
 850:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 851:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 852:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return;
 853:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 854:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 855:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 856:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Setup0_Process
 857:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Get the device request data and dispatch to individual process.
 858:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 859:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 860:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Post0_Process.
 861:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 862:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t Setup0_Process(void)
 863:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 864:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 865:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   union
 866:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 867:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint8_t* b;
 868:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     uint16_t* w;
 869:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   } pBuf;
 870:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint16_t offset = 1;
 871:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   
 872:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pBuf.b = PMAAddr + (uint8_t *)(_GetEPRxAddr(ENDP0) * 2); /* *2 for 32 bits addr */
 873:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 874:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->ControlState != PAUSE)
 875:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 876:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBbmRequestType = *pBuf.b++; /* bmRequestType */
 877:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBbRequest = *pBuf.b++; /* bRequest */
 878:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pBuf.w += offset;  /* word not accessed because of 32 bits addressing */
 879:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwValue = ByteSwap(*pBuf.w++); /* wValue */
 880:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pBuf.w += offset;  /* word not accessed because of 32 bits addressing */
 881:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwIndex  = ByteSwap(*pBuf.w++); /* wIndex */
 882:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pBuf.w += offset;  /* word not accessed because of 32 bits addressing */
 883:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwLength = *pBuf.w; /* wLength */
 884:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 885:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 886:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = SETTING_UP;
 887:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->USBwLength == 0)
 888:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 889:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Setup with no data stage */
 890:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     NoData_Setup0();
 891:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 892:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 893:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 894:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* Setup with data stage */
 895:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Data_Setup0();
 896:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 897:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 898:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 899:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 900:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 901:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : In0_Process
 902:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Process the IN token on all default endpoint.
 903:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 904:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 905:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Post0_Process.
 906:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 907:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t In0_Process(void)
 908:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 909:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState = pInformation->ControlState;
 910:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 911:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 912:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 913:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DataStageIn();
 914:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* ControlState may be changed outside the function */
 915:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = pInformation->ControlState;
 916:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 917:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 918:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (ControlState == WAIT_STATUS_IN)
 919:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 920:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((pInformation->USBbRequest == SET_ADDRESS) &&
 921:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT)))
 922:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     {
 923:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       SetDeviceAddress(pInformation->USBwValue0);
 924:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pUser_Standard_Requests->User_SetDeviceAddress();
 925:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     }
 926:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*pProperty->Process_Status_IN)();
 927:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 928:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 929:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 930:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 931:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 932:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 933:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 934:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 935:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 936:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 937:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 938:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 939:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 940:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 941:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Out0_Process
 942:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Process the OUT token on all default endpoint.
 943:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 944:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 945:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : Post0_Process.
 946:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 947:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t Out0_Process(void)
 948:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 949:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState = pInformation->ControlState;
 950:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 951:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 952:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 953:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     /* host aborts the transfer before finish */
 954:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 955:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 956:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if ((ControlState == OUT_DATA) || (ControlState == LAST_OUT_DATA))
 957:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 958:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DataStageOut();
 959:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = pInformation->ControlState; /* may be changed outside the function */
 960:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 961:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 962:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (ControlState == WAIT_STATUS_OUT)
 963:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 964:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*pProperty->Process_Status_OUT)();
 965:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 966:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 967:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 968:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 969:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* Unexpect state, STALL the endpoint */
 970:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else
 971:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 972:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 973:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 974:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 975:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 976:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 977:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 978:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 979:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 980:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
 981:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : Post0_Process
 982:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Stall the Endpoint 0 in case of error.
 983:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
 984:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
 985:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : - 0 if the control State is in PAUSE
 986:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *                  - 1 if not.
 987:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
 988:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** uint8_t Post0_Process(void)
 989:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 990:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****    
 991:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetEPRxCount(ENDP0, Device_Property.MaxPacketSize);
 992:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 993:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->ControlState == STALLED)
 994:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
 995:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_STALL);
 996:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPTxStatus(EP_TX_STALL);
 997:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   }
 998:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
 999:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return (pInformation->ControlState == PAUSE);
1000:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
1001:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
1002:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
1003:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : SetDeviceAddress.
1004:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : Set the device and all the used Endpoints addresses.
1005:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : - Val: device address.
1006:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
1007:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
1008:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
1009:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void SetDeviceAddress(uint8_t Val)
1010:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
1011:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t i;
1012:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t nEP = Device_Table.Total_Endpoint;
1013:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
1014:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   /* set address in every used endpoint */
1015:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   for (i = 0; i < nEP; i++)
1016:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   {
1017:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     _SetEPAddress((uint8_t)i, (uint8_t)i);
1018:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   } /* for */
1019:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   _SetDADDR(Val | DADDR_EF); /* set device address and enable function */ 
1020:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
1021:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** 
1022:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** /*******************************************************************************
1023:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Function Name  : NOP_Process
1024:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Description    : No operation function.
1025:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Input          : None.
1026:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Output         : None.
1027:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** * Return         : None.
1028:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** *******************************************************************************/
1029:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void NOP_Process(void)
1030:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
1031:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 291              		.loc 1 1031 0
 292 001c 94B2     		uxth	r4, r2
 514:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Send0LengthData();
 293              		.loc 1 514 0
 294 001e 1E4A     		ldr	r2, .L37+16
 295 0020 A218     		adds	r2, r4, r2
 296 0022 5200     		lsls	r2, r2, #1
 297 0024 1360     		str	r3, [r2, #0]
 298 0026 3022     		movs	r2, #48
 299 0028 0A80     		strh	r2, [r1, #0]	@ movhi
 300              	.LVL20:
 516:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Data_Mul_MaxPacketSize = FALSE;
 301              		.loc 1 516 0
 302 002a 0370     		strb	r3, [r0, #0]
 303 002c 28E0     		b	.L34
 304              	.LVL21:
 305              	.L33:
 522:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       vSetEPTxStatus(EP_TX_STALL);
 306              		.loc 1 522 0
 307 002e 1026     		movs	r6, #16
 308 0030 0E80     		strh	r6, [r1, #0]	@ movhi
 521:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ControlState = WAIT_STATUS_OUT;
 309              		.loc 1 521 0
 310 0032 0726     		movs	r6, #7
 311 0034 24E0     		b	.L34
 312              	.LVL22:
 313              	.L32:
 529:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   Length = pEPinfo->PacketSize;
 314              		.loc 1 529 0
 315 0036 A58A     		ldrh	r5, [r4, #20]
 316              	.LVL23:
 530:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ControlState = (save_wLength <= Length) ? LAST_IN_DATA : IN_DATA;
 317              		.loc 1 530 0
 318 0038 AB42     		cmp	r3, r5
 319 003a 8CBF     		ite	hi
 320 003c 0226     		movhi	r6, #2
 321 003e 0426     		movls	r6, #4
 322              	.LVL24:
 537:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   DataBuffer = (*pEPinfo->CopyData)(Length);
 323              		.loc 1 537 0
 324 0040 9D42     		cmp	r5, r3
 325 0042 28BF     		it	cs
 326 0044 1D46     		movcs	r5, r3
 327              	.LVL25:
 328 0046 A169     		ldr	r1, [r4, #24]
 329 0048 2846     		mov	r0, r5
 330 004a 8847     		blx	r1
 331              	.LVL26:
 332 004c 0746     		mov	r7, r0
 333              	.LVL27:
 539:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   UserToPMABufferCopy(DataBuffer, GetEPTxAddr(ENDP0), Length);
 334              		.loc 1 539 0
 335 004e 0020     		movs	r0, #0
 336              	.LVL28:
 337 0050 FFF7FEFF 		bl	GetEPTxAddr
 338              	.LVL29:
 339 0054 0146     		mov	r1, r0
 340 0056 3846     		mov	r0, r7
 341 0058 2A46     		mov	r2, r5
 342 005a FFF7FEFF 		bl	UserToPMABufferCopy
 343              	.LVL30:
 541:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetEPTxCount(ENDP0, Length);
 344              		.loc 1 541 0
 345 005e 0020     		movs	r0, #0
 346 0060 2946     		mov	r1, r5
 347 0062 FFF7FEFF 		bl	SetEPTxCount
 348              	.LVL31:
 543:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pEPinfo->Usb_wLength -= Length;
 349              		.loc 1 543 0
 350 0066 208A     		ldrh	r0, [r4, #16]
 351 0068 421B     		subs	r2, r0, r5
 352 006a 2282     		strh	r2, [r4, #16]	@ movhi
 544:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pEPinfo->Usb_wOffset += Length;
 353              		.loc 1 544 0
 354 006c 638A     		ldrh	r3, [r4, #18]
 355 006e ED18     		adds	r5, r5, r3
 356              	.LVL32:
 357 0070 6582     		strh	r5, [r4, #18]	@ movhi
 545:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   vSetEPTxStatus(EP_TX_VALID);
 358              		.loc 1 545 0
 359 0072 3021     		movs	r1, #48
 360 0074 0648     		ldr	r0, .L37+8
 361 0076 0180     		strh	r1, [r0, #0]	@ movhi
 547:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   USB_StatusOut();/* Expect the host to abort the data IN stage */
 362              		.loc 1 547 0
 363 0078 4FF44052 		mov	r2, #12288
 364 007c 074B     		ldr	r3, .L37+20
 365 007e 1A80     		strh	r2, [r3, #0]	@ movhi
 366              	.LVL33:
 367              	.L34:
 550:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 368              		.loc 1 550 0
 369 0080 014B     		ldr	r3, .L37
 370 0082 1868     		ldr	r0, [r3, #0]
 371 0084 0672     		strb	r6, [r0, #8]
 372 0086 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 373              	.L38:
 374              		.align	2
 375              	.L37:
 376 0088 00000000 		.word	pInformation
 377 008c 00000000 		.word	.LANCHOR1
 378 0090 00000000 		.word	SaveTState
 379 0094 505C0040 		.word	1073765456
 380 0098 02300020 		.word	536883202
 381 009c 00000000 		.word	SaveRState
 382              		.cfi_endproc
 383              	.LFE67:
 385              		.section	.text.Standard_SetConfiguration,"ax",%progbits
 386              		.align	1
 387              		.global	Standard_SetConfiguration
 388              		.thumb
 389              		.thumb_func
 391              	Standard_SetConfiguration:
 392              	.LFB58:
  91:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 393              		.loc 1 91 0
 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 0
 396              		@ frame_needed = 0, uses_anonymous_args = 0
 397 0000 10B5     		push	{r4, lr}
 398              	.LCFI4:
 399              		.cfi_def_cfa_offset 8
 400              		.cfi_offset 4, -8
 401              		.cfi_offset 14, -4
  93:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((pInformation->USBwValue0 <=
 402              		.loc 1 93 0
 403 0002 0A4B     		ldr	r3, .L44
 404 0004 1868     		ldr	r0, [r3, #0]
 405 0006 C278     		ldrb	r2, [r0, #3]	@ zero_extendqisi2
  94:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Device_Table.Total_Configuration) && (pInformation->USBwValue1 == 0)
 406              		.loc 1 94 0
 407 0008 0949     		ldr	r1, .L44+4
  93:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((pInformation->USBwValue0 <=
 408              		.loc 1 93 0
 409 000a 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 410 000c 9342     		cmp	r3, r2
 411 000e 0AD3     		bcc	.L43
  94:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Device_Table.Total_Configuration) && (pInformation->USBwValue1 == 0)
 412              		.loc 1 94 0
 413 0010 8178     		ldrb	r1, [r0, #2]	@ zero_extendqisi2
 414 0012 41B9     		cbnz	r1, .L43
  95:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       && (pInformation->USBwIndex == 0)) /*call Back usb spec 2.0*/
 415              		.loc 1 95 0
 416 0014 8488     		ldrh	r4, [r0, #4]
 417 0016 34B9     		cbnz	r4, .L43
  97:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Current_Configuration = pInformation->USBwValue0;
 418              		.loc 1 97 0
 419 0018 8272     		strb	r2, [r0, #10]
  98:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pUser_Standard_Requests->User_SetConfiguration();
 420              		.loc 1 98 0
 421 001a 0648     		ldr	r0, .L44+8
 422 001c 0268     		ldr	r2, [r0, #0]
 423 001e 5368     		ldr	r3, [r2, #4]
 424 0020 9847     		blx	r3
 425              	.LVL34:
  99:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 426              		.loc 1 99 0
 427 0022 2046     		mov	r0, r4
 428 0024 10BD     		pop	{r4, pc}
 429              	.L43:
 103:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_UNSUPPORT;
 430              		.loc 1 103 0
 431 0026 0220     		movs	r0, #2
 105:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 432              		.loc 1 105 0
 433 0028 10BD     		pop	{r4, pc}
 434              	.L45:
 435 002a 00BF     		.align	2
 436              	.L44:
 437 002c 00000000 		.word	pInformation
 438 0030 00000000 		.word	Device_Table
 439 0034 00000000 		.word	pUser_Standard_Requests
 440              		.cfi_endproc
 441              	.LFE58:
 443              		.section	.text.Standard_SetInterface,"ax",%progbits
 444              		.align	1
 445              		.global	Standard_SetInterface
 446              		.thumb
 447              		.thumb_func
 449              	Standard_SetInterface:
 450              	.LFB60:
 137:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 451              		.loc 1 137 0
 452              		.cfi_startproc
 453              		@ args = 0, pretend = 0, frame = 0
 454              		@ frame_needed = 0, uses_anonymous_args = 0
 455 0000 38B5     		push	{r3, r4, r5, lr}
 456              	.LCFI5:
 457              		.cfi_def_cfa_offset 16
 458              		.cfi_offset 3, -16
 459              		.cfi_offset 4, -12
 460              		.cfi_offset 5, -8
 461              		.cfi_offset 14, -4
 141:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   Re = (*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, pInformation->USBwValue0
 462              		.loc 1 141 0
 463 0002 0E4C     		ldr	r4, .L52
 464 0004 2368     		ldr	r3, [r4, #0]
 465 0006 0E4A     		ldr	r2, .L52+4
 466 0008 1068     		ldr	r0, [r2, #0]
 467 000a 8269     		ldr	r2, [r0, #24]
 468 000c 5879     		ldrb	r0, [r3, #5]	@ zero_extendqisi2
 469 000e D978     		ldrb	r1, [r3, #3]	@ zero_extendqisi2
 470 0010 9047     		blx	r2
 471              	.LVL35:
 143:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->Current_Configuration != 0)
 472              		.loc 1 143 0
 473 0012 2168     		ldr	r1, [r4, #0]
 474 0014 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 475 0016 7BB1     		cbz	r3, .L51
 145:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Re != USB_SUCCESS) || (pInformation->USBwIndex1 != 0)
 476              		.loc 1 145 0
 477 0018 70B9     		cbnz	r0, .L51
 145:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Re != USB_SUCCESS) || (pInformation->USBwIndex1 != 0)
 478              		.loc 1 145 0 is_stmt 0 discriminator 1
 479 001a 0879     		ldrb	r0, [r1, #4]	@ zero_extendqisi2
 480              	.LVL36:
 481 001c 60B9     		cbnz	r0, .L51
 146:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->USBwValue1 != 0))
 482              		.loc 1 146 0 is_stmt 1
 483 001e 8D78     		ldrb	r5, [r1, #2]	@ zero_extendqisi2
 484 0020 55B9     		cbnz	r5, .L51
 152:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pUser_Standard_Requests->User_SetInterface();
 485              		.loc 1 152 0
 486 0022 084A     		ldr	r2, .L52+8
 487 0024 1168     		ldr	r1, [r2, #0]
 488 0026 CB68     		ldr	r3, [r1, #12]
 489 0028 9847     		blx	r3
 490              	.LVL37:
 153:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Current_Interface = pInformation->USBwIndex0;
 491              		.loc 1 153 0
 492 002a 2068     		ldr	r0, [r4, #0]
 493 002c 4279     		ldrb	r2, [r0, #5]	@ zero_extendqisi2
 494 002e C272     		strb	r2, [r0, #11]
 154:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Current_AlternateSetting = pInformation->USBwValue0;
 495              		.loc 1 154 0
 496 0030 C178     		ldrb	r1, [r0, #3]	@ zero_extendqisi2
 497 0032 0173     		strb	r1, [r0, #12]
 155:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       return USB_SUCCESS;
 498              		.loc 1 155 0
 499 0034 2846     		mov	r0, r5
 500 0036 38BD     		pop	{r3, r4, r5, pc}
 501              	.L51:
 160:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_UNSUPPORT;
 502              		.loc 1 160 0
 503 0038 0220     		movs	r0, #2
 161:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 504              		.loc 1 161 0
 505 003a 38BD     		pop	{r3, r4, r5, pc}
 506              	.L53:
 507              		.align	2
 508              	.L52:
 509 003c 00000000 		.word	pInformation
 510 0040 00000000 		.word	pProperty
 511 0044 00000000 		.word	pUser_Standard_Requests
 512              		.cfi_endproc
 513              	.LFE60:
 515              		.section	.text.Standard_ClearFeature,"ax",%progbits
 516              		.align	1
 517              		.global	Standard_ClearFeature
 518              		.thumb
 519              		.thumb_func
 521              	Standard_ClearFeature:
 522              	.LFB62:
 254:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 523              		.loc 1 254 0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 527 0000 10B5     		push	{r4, lr}
 528              	.LCFI6:
 529              		.cfi_def_cfa_offset 8
 530              		.cfi_offset 4, -8
 531              		.cfi_offset 14, -4
 255:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t     Type_Rec = Type_Recipient;
 532              		.loc 1 255 0
 533 0002 324B     		ldr	r3, .L69
 534 0004 1B68     		ldr	r3, [r3, #0]
 535 0006 1878     		ldrb	r0, [r3, #0]	@ zero_extendqisi2
 536              	.LVL38:
 259:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Type_Rec == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 537              		.loc 1 259 0
 538 0008 10F07F00 		ands	r0, r0, #127
 539              	.LVL39:
 540 000c 04D1     		bne	.L55
 261:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ClrBit(pInformation->Current_Feature, 5);
 541              		.loc 1 261 0
 542 000e 5A7A     		ldrb	r2, [r3, #9]	@ zero_extendqisi2
 543 0010 22F02001 		bic	r1, r2, #32
 544 0014 5972     		strb	r1, [r3, #9]
 262:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 545              		.loc 1 262 0
 546 0016 10BD     		pop	{r4, pc}
 547              	.L55:
 264:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Rec == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 548              		.loc 1 264 0
 549 0018 0228     		cmp	r0, #2
 550 001a 55D1     		bne	.L67
 551              	.LBB4:
 271:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((pInformation->USBwValue != ENDPOINT_STALL)
 552              		.loc 1 271 0
 553 001c 5A88     		ldrh	r2, [r3, #2]
 554 001e 002A     		cmp	r2, #0
 555 0020 53D1     		bne	.L56
 272:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->USBwIndex1 != 0))
 556              		.loc 1 272 0
 557 0022 1979     		ldrb	r1, [r3, #4]	@ zero_extendqisi2
 558 0024 0029     		cmp	r1, #0
 559 0026 50D1     		bne	.L56
 560              	.LVL40:
 278:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     wIndex0 = pInformation->USBwIndex0;
 561              		.loc 1 278 0
 562 0028 5A79     		ldrb	r2, [r3, #5]	@ zero_extendqisi2
 563              	.LVL41:
 279:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     rEP = wIndex0 & ~0x80;
 564              		.loc 1 279 0
 565 002a 22F08000 		bic	r0, r2, #128
 566              	.LVL42:
 282:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (ValBit(pInformation->USBwIndex0, 7))
 567              		.loc 1 282 0
 568 002e 12F0800F 		tst	r2, #128
 569 0032 4FEA8004 		lsl	r4, r0, #2
 286:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Status = _GetEPTxStatus(Related_Endpoint);
 570              		.loc 1 286 0
 571 0036 04F18041 		add	r1, r4, #1073741824
 572 003a 01F5B844 		add	r4, r1, #23552
 573 003e 2168     		ldr	r1, [r4, #0]
 574 0040 14BF     		ite	ne
 575 0042 01F03001 		andne	r1, r1, #48
 576              	.LVL43:
 290:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Status = _GetEPRxStatus(Related_Endpoint);
 577              		.loc 1 290 0
 578 0046 01F44051 		andeq	r1, r1, #12288
 579              	.LVL44:
 293:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((rEP >= pDev->Total_Endpoint) || (Status == 0)
 580              		.loc 1 293 0
 581 004a 214C     		ldr	r4, .L69+4
 582 004c 2478     		ldrb	r4, [r4, #0]	@ zero_extendqisi2
 583 004e A042     		cmp	r0, r4
 584 0050 3AD2     		bcs	.L67
 293:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((rEP >= pDev->Total_Endpoint) || (Status == 0)
 585              		.loc 1 293 0 is_stmt 0 discriminator 1
 586 0052 0029     		cmp	r1, #0
 587 0054 38D0     		beq	.L67
 294:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         || (pInformation->Current_Configuration == 0))
 588              		.loc 1 294 0 is_stmt 1
 589 0056 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 590              	.LVL45:
 591 0058 002B     		cmp	r3, #0
 592 005a 35D0     		beq	.L67
 300:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 593              		.loc 1 300 0
 594 005c 02F08002 		and	r2, r2, #128
 595              	.LVL46:
 596 0060 D1B2     		uxtb	r1, r2
 597              	.LVL47:
 598 0062 8400     		lsls	r4, r0, #2
 303:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetTxStallStatus(Related_Endpoint ))
 599              		.loc 1 303 0
 600 0064 04F18043 		add	r3, r4, #1073741824
 601 0068 03F5B844 		add	r4, r3, #23552
 602 006c 2268     		ldr	r2, [r4, #0]
 300:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 603              		.loc 1 300 0
 604 006e 61B1     		cbz	r1, .L59
 303:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetTxStallStatus(Related_Endpoint ))
 605              		.loc 1 303 0
 606 0070 02F03002 		and	r2, r2, #48
 607 0074 102A     		cmp	r2, #16
 608 0076 21D1     		bne	.L60
 305:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         ClearDTOG_TX(Related_Endpoint);
 609              		.loc 1 305 0
 610 0078 C4B2     		uxtb	r4, r0
 611 007a 2046     		mov	r0, r4
 612              	.LVL48:
 613 007c FFF7FEFF 		bl	ClearDTOG_TX
 614              	.LVL49:
 306:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         SetEPTxStatus(Related_Endpoint, EP_TX_VALID);
 615              		.loc 1 306 0
 616 0080 2046     		mov	r0, r4
 617 0082 3021     		movs	r1, #48
 618 0084 FFF7FEFF 		bl	SetEPTxStatus
 619              	.LVL50:
 620 0088 18E0     		b	.L60
 621              	.LVL51:
 622              	.L59:
 312:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (_GetRxStallStatus(Related_Endpoint))
 623              		.loc 1 312 0
 624 008a 02F44051 		and	r1, r2, #12288
 625 008e B1F5805F 		cmp	r1, #4096
 626 0092 13D1     		bne	.L60
 314:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         if (Related_Endpoint == ENDP0)
 627              		.loc 1 314 0
 628 0094 28B9     		cbnz	r0, .L61
 317:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           SetEPRxCount(Related_Endpoint, Device_Property.MaxPacketSize);
 629              		.loc 1 317 0
 630 0096 0F4B     		ldr	r3, .L69+8
 631 0098 93F82C10 		ldrb	r1, [r3, #44]	@ zero_extendqisi2
 632 009c FFF7FEFF 		bl	SetEPRxCount
 633              	.LVL52:
 634 00a0 01E0     		b	.L68
 635              	.LVL53:
 636              	.L61:
 322:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           ClearDTOG_RX(Related_Endpoint);
 637              		.loc 1 322 0
 638 00a2 FFF7FEFF 		bl	ClearDTOG_RX
 639              	.LVL54:
 640              	.L68:
 641              	.LBB5:
 323:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           _SetEPRxStatus(Related_Endpoint, EP_RX_VALID);
 642              		.loc 1 323 0
 643 00a6 2068     		ldr	r0, [r4, #0]
 644              	.LVL55:
 645 00a8 4BF68F72 		movw	r2, #49039
 646 00ac 0240     		ands	r2, r2, r0
 647 00ae 82F44051 		eor	r1, r2, #12288
 648 00b2 41F40043 		orr	r3, r1, #32768
 649 00b6 43F08000 		orr	r0, r3, #128
 650              	.LVL56:
 651 00ba 2060     		str	r0, [r4, #0]
 652              	.L60:
 653              	.LBE5:
 327:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pUser_Standard_Requests->User_ClearFeature();
 654              		.loc 1 327 0
 655 00bc 0649     		ldr	r1, .L69+12
 656 00be 0B68     		ldr	r3, [r1, #0]
 657 00c0 5869     		ldr	r0, [r3, #20]
 658 00c2 8047     		blx	r0
 659              	.LVL57:
 328:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_SUCCESS;
 660              		.loc 1 328 0
 661 00c4 0020     		movs	r0, #0
 662 00c6 10BD     		pop	{r4, pc}
 663              	.LVL58:
 664              	.L67:
 331:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_UNSUPPORT;
 665              		.loc 1 331 0
 666 00c8 0220     		movs	r0, #2
 667              	.L56:
 668              	.LBE4:
 332:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 669              		.loc 1 332 0
 670 00ca 10BD     		pop	{r4, pc}
 671              	.L70:
 672              		.align	2
 673              	.L69:
 674 00cc 00000000 		.word	pInformation
 675 00d0 00000000 		.word	Device_Table
 676 00d4 00000000 		.word	Device_Property
 677 00d8 00000000 		.word	pUser_Standard_Requests
 678              		.cfi_endproc
 679              	.LFE62:
 681              		.section	.text.Standard_SetEndPointFeature,"ax",%progbits
 682              		.align	1
 683              		.global	Standard_SetEndPointFeature
 684              		.thumb
 685              		.thumb_func
 687              	Standard_SetEndPointFeature:
 688              	.LFB63:
 343:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 689              		.loc 1 343 0
 690              		.cfi_startproc
 691              		@ args = 0, pretend = 0, frame = 0
 692              		@ frame_needed = 0, uses_anonymous_args = 0
 693 0000 10B5     		push	{r4, lr}
 694              	.LCFI7:
 695              		.cfi_def_cfa_offset 8
 696              		.cfi_offset 4, -8
 697              		.cfi_offset 14, -4
 349:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   wIndex0 = pInformation->USBwIndex0;
 698              		.loc 1 349 0
 699 0002 1F4B     		ldr	r3, .L82
 700 0004 1968     		ldr	r1, [r3, #0]
 701 0006 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 702              	.LVL59:
 350:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   rEP = wIndex0 & ~0x80;
 703              		.loc 1 350 0
 704 0008 22F08003 		bic	r3, r2, #128
 705              	.LVL60:
 353:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (ValBit(pInformation->USBwIndex0, 7))
 706              		.loc 1 353 0
 707 000c 12F0800F 		tst	r2, #128
 708 0010 4FEA8300 		lsl	r0, r3, #2
 357:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Status = _GetEPTxStatus(Related_Endpoint);
 709              		.loc 1 357 0
 710 0014 00F18044 		add	r4, r0, #1073741824
 711 0018 04F5B840 		add	r0, r4, #23552
 712 001c 0068     		ldr	r0, [r0, #0]
 713 001e 14BF     		ite	ne
 714 0020 00F03000 		andne	r0, r0, #48
 715              	.LVL61:
 361:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Status = _GetEPRxStatus(Related_Endpoint);
 716              		.loc 1 361 0
 717 0024 00F44050 		andeq	r0, r0, #12288
 718              	.LVL62:
 364:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Related_Endpoint >= Device_Table.Total_Endpoint
 719              		.loc 1 364 0
 720 0028 164C     		ldr	r4, .L82+4
 721 002a 2478     		ldrb	r4, [r4, #0]	@ zero_extendqisi2
 722 002c A342     		cmp	r3, r4
 723 002e 24D2     		bcs	.L80
 365:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       || pInformation->USBwValue != 0 || Status == 0
 724              		.loc 1 365 0
 725 0030 4C88     		ldrh	r4, [r1, #2]
 726 0032 14BB     		cbnz	r4, .L80
 365:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       || pInformation->USBwValue != 0 || Status == 0
 727              		.loc 1 365 0 is_stmt 0 discriminator 1
 728 0034 08B3     		cbz	r0, .L80
 366:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       || pInformation->Current_Configuration == 0)
 729              		.loc 1 366 0 is_stmt 1
 730 0036 897A     		ldrb	r1, [r1, #10]	@ zero_extendqisi2
 731 0038 F9B1     		cbz	r1, .L80
 372:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 732              		.loc 1 372 0
 733 003a 02F08002 		and	r2, r2, #128
 734              	.LVL63:
 735 003e D0B2     		uxtb	r0, r2
 736              	.LVL64:
 737 0040 9B00     		lsls	r3, r3, #2
 738              	.LVL65:
 739              	.LBB6:
 375:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       _SetEPTxStatus(Related_Endpoint, EP_TX_STALL);
 740              		.loc 1 375 0
 741 0042 03F18041 		add	r1, r3, #1073741824
 742 0046 01F5B843 		add	r3, r1, #23552
 743 004a 1968     		ldr	r1, [r3, #0]
 744              	.LBE6:
 372:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (wIndex0 & 0x80)
 745              		.loc 1 372 0
 746 004c 28B1     		cbz	r0, .L75
 747              	.LVL66:
 748              	.LBB7:
 375:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       _SetEPTxStatus(Related_Endpoint, EP_TX_STALL);
 749              		.loc 1 375 0
 750 004e 48F6BF72 		movw	r2, #36799
 751 0052 0A40     		ands	r2, r2, r1
 752 0054 82F01000 		eor	r0, r2, #16
 753 0058 04E0     		b	.L81
 754              	.LVL67:
 755              	.L75:
 756              	.LBE7:
 757              	.LBB8:
 381:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       _SetEPRxStatus(Related_Endpoint, EP_RX_STALL);
 758              		.loc 1 381 0
 759 005a 4BF68F72 		movw	r2, #49039
 760 005e 0A40     		ands	r2, r2, r1
 761 0060 82F48050 		eor	r0, r2, #4096
 762              	.LVL68:
 763              	.L81:
 764 0064 40F40041 		orr	r1, r0, #32768
 765 0068 41F08000 		orr	r0, r1, #128
 766 006c 1860     		str	r0, [r3, #0]
 767              	.LBE8:
 384:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_SetEndPointFeature();
 768              		.loc 1 384 0
 769 006e 064B     		ldr	r3, .L82+8
 770 0070 1A68     		ldr	r2, [r3, #0]
 771 0072 9169     		ldr	r1, [r2, #24]
 772 0074 8847     		blx	r1
 773              	.LVL69:
 385:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return USB_SUCCESS;
 774              		.loc 1 385 0
 775 0076 0020     		movs	r0, #0
 776 0078 10BD     		pop	{r4, pc}
 777              	.LVL70:
 778              	.L80:
 368:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return USB_UNSUPPORT;
 779              		.loc 1 368 0
 780 007a 0220     		movs	r0, #2
 781              	.LVL71:
 386:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 782              		.loc 1 386 0
 783 007c 10BD     		pop	{r4, pc}
 784              	.L83:
 785 007e 00BF     		.align	2
 786              	.L82:
 787 0080 00000000 		.word	pInformation
 788 0084 00000000 		.word	Device_Table
 789 0088 00000000 		.word	pUser_Standard_Requests
 790              		.cfi_endproc
 791              	.LFE63:
 793              		.section	.text.Standard_SetDeviceFeature,"ax",%progbits
 794              		.align	1
 795              		.global	Standard_SetDeviceFeature
 796              		.thumb
 797              		.thumb_func
 799              	Standard_SetDeviceFeature:
 800              	.LFB64:
 397:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 801              		.loc 1 397 0
 802              		.cfi_startproc
 803              		@ args = 0, pretend = 0, frame = 0
 804              		@ frame_needed = 0, uses_anonymous_args = 0
 805 0000 08B5     		push	{r3, lr}
 806              	.LCFI8:
 807              		.cfi_def_cfa_offset 8
 808              		.cfi_offset 3, -8
 809              		.cfi_offset 14, -4
 398:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetBit(pInformation->Current_Feature, 5);
 810              		.loc 1 398 0
 811 0002 064B     		ldr	r3, .L85
 812 0004 1868     		ldr	r0, [r3, #0]
 813 0006 427A     		ldrb	r2, [r0, #9]	@ zero_extendqisi2
 814 0008 42F02001 		orr	r1, r2, #32
 815 000c 4172     		strb	r1, [r0, #9]
 399:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pUser_Standard_Requests->User_SetDeviceFeature();
 816              		.loc 1 399 0
 817 000e 044B     		ldr	r3, .L85+4
 818 0010 1868     		ldr	r0, [r3, #0]
 819 0012 C269     		ldr	r2, [r0, #28]
 820 0014 9047     		blx	r2
 821              	.LVL72:
 401:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 822              		.loc 1 401 0
 823 0016 0020     		movs	r0, #0
 824 0018 08BD     		pop	{r3, pc}
 825              	.L86:
 826 001a 00BF     		.align	2
 827              	.L85:
 828 001c 00000000 		.word	pInformation
 829 0020 00000000 		.word	pUser_Standard_Requests
 830              		.cfi_endproc
 831              	.LFE64:
 833              		.section	.text.Standard_GetDescriptorData,"ax",%progbits
 834              		.align	1
 835              		.global	Standard_GetDescriptorData
 836              		.thumb
 837              		.thumb_func
 839              	Standard_GetDescriptorData:
 840              	.LFB65:
 423:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 841              		.loc 1 423 0
 842              		.cfi_startproc
 843              		@ args = 0, pretend = 0, frame = 0
 844              		@ frame_needed = 0, uses_anonymous_args = 0
 845              		@ link register save eliminated.
 846              	.LVL73:
 426:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   wOffset = pInformation->Ctrl_Info.Usb_wOffset;
 847              		.loc 1 426 0
 848 0000 054B     		ldr	r3, .L90
 849 0002 1A68     		ldr	r2, [r3, #0]
 850 0004 538A     		ldrh	r3, [r2, #18]
 851              	.LVL74:
 427:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Length == 0)
 852              		.loc 1 427 0
 853 0006 18B9     		cbnz	r0, .L88
 429:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wLength = pDesc->Descriptor_Size - wOffset;
 854              		.loc 1 429 0
 855 0008 8988     		ldrh	r1, [r1, #4]
 856              	.LVL75:
 857 000a CB1A     		subs	r3, r1, r3
 858              	.LVL76:
 859 000c 1382     		strh	r3, [r2, #16]	@ movhi
 430:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     return 0;
 860              		.loc 1 430 0
 861 000e 7047     		bx	lr
 862              	.LVL77:
 863              	.L88:
 433:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return pDesc->Descriptor + wOffset;
 864              		.loc 1 433 0
 865 0010 0868     		ldr	r0, [r1, #0]
 866              	.LVL78:
 867 0012 C018     		adds	r0, r0, r3
 434:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 868              		.loc 1 434 0
 869 0014 7047     		bx	lr
 870              	.L91:
 871 0016 00BF     		.align	2
 872              	.L90:
 873 0018 00000000 		.word	pInformation
 874              		.cfi_endproc
 875              	.LFE65:
 877              		.section	.text.Post0_Process,"ax",%progbits
 878              		.align	1
 879              		.global	Post0_Process
 880              		.thumb
 881              		.thumb_func
 883              	Post0_Process:
 884              	.LFB73:
 989:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 885              		.loc 1 989 0
 886              		.cfi_startproc
 887              		@ args = 0, pretend = 0, frame = 0
 888              		@ frame_needed = 0, uses_anonymous_args = 0
 889 0000 08B5     		push	{r3, lr}
 890              	.LCFI9:
 891              		.cfi_def_cfa_offset 8
 892              		.cfi_offset 3, -8
 893              		.cfi_offset 14, -4
 991:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   SetEPRxCount(ENDP0, Device_Property.MaxPacketSize);
 894              		.loc 1 991 0
 895 0002 0020     		movs	r0, #0
 896 0004 0A4B     		ldr	r3, .L94
 897 0006 93F82C10 		ldrb	r1, [r3, #44]	@ zero_extendqisi2
 898 000a FFF7FEFF 		bl	SetEPRxCount
 899              	.LVL79:
 993:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->ControlState == STALLED)
 900              		.loc 1 993 0
 901 000e 0948     		ldr	r0, .L94+4
 902 0010 0168     		ldr	r1, [r0, #0]
 903 0012 087A     		ldrb	r0, [r1, #8]	@ zero_extendqisi2
 904 0014 0828     		cmp	r0, #8
 905 0016 06D1     		bne	.L93
 995:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_STALL);
 906              		.loc 1 995 0
 907 0018 4FF48052 		mov	r2, #4096
 908 001c 064B     		ldr	r3, .L94+8
 909 001e 1A80     		strh	r2, [r3, #0]	@ movhi
 996:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPTxStatus(EP_TX_STALL);
 910              		.loc 1 996 0
 911 0020 1021     		movs	r1, #16
 912 0022 064A     		ldr	r2, .L94+12
 913 0024 1180     		strh	r1, [r2, #0]	@ movhi
 914              	.L93:
1000:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 915              		.loc 1 1000 0
 916 0026 B0F10903 		subs	r3, r0, #9
 917 002a 5842     		rsbs	r0, r3, #0
 918 002c 5841     		adcs	r0, r0, r3
 919 002e 08BD     		pop	{r3, pc}
 920              	.L95:
 921              		.align	2
 922              	.L94:
 923 0030 00000000 		.word	Device_Property
 924 0034 00000000 		.word	pInformation
 925 0038 00000000 		.word	SaveRState
 926 003c 00000000 		.word	SaveTState
 927              		.cfi_endproc
 928              	.LFE73:
 930              		.section	.text.Out0_Process,"ax",%progbits
 931              		.align	1
 932              		.global	Out0_Process
 933              		.thumb
 934              		.thumb_func
 936              	Out0_Process:
 937              	.LFB72:
 948:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 938              		.loc 1 948 0
 939              		.cfi_startproc
 940              		@ args = 0, pretend = 0, frame = 0
 941              		@ frame_needed = 0, uses_anonymous_args = 0
 942 0000 70B5     		push	{r4, r5, r6, lr}
 943              	.LCFI10:
 944              		.cfi_def_cfa_offset 16
 945              		.cfi_offset 4, -16
 946              		.cfi_offset 5, -12
 947              		.cfi_offset 6, -8
 948              		.cfi_offset 14, -4
 949:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState = pInformation->ControlState;
 949              		.loc 1 949 0
 950 0002 2E4B     		ldr	r3, .L121
 951 0004 1C68     		ldr	r4, [r3, #0]
 952 0006 207A     		ldrb	r0, [r4, #8]	@ zero_extendqisi2
 953              	.LVL80:
 951:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 954              		.loc 1 951 0
 955 0008 0228     		cmp	r0, #2
 956 000a 4FD0     		beq	.L107
 951:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 957              		.loc 1 951 0 is_stmt 0 discriminator 1
 958 000c 0428     		cmp	r0, #4
 959 000e 4DD0     		beq	.L107
 956:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if ((ControlState == OUT_DATA) || (ControlState == LAST_OUT_DATA))
 960              		.loc 1 956 0 is_stmt 1
 961 0010 0328     		cmp	r0, #3
 962 0012 01D0     		beq	.L98
 956:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if ((ControlState == OUT_DATA) || (ControlState == LAST_OUT_DATA))
 963              		.loc 1 956 0 is_stmt 0 discriminator 1
 964 0014 0528     		cmp	r0, #5
 965 0016 43D1     		bne	.L99
 966              	.L98:
 967              	.LVL81:
 968              	.LBB12:
 969              	.LBB13:
 448:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   save_rLength = pEPinfo->Usb_rLength;
 970              		.loc 1 448 0 is_stmt 1
 971 0018 208A     		ldrh	r0, [r4, #16]
 972              	.LVL82:
 450:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->CopyData && save_rLength)
 973              		.loc 1 450 0
 974 001a A169     		ldr	r1, [r4, #24]
 975 001c A9B1     		cbz	r1, .L100
 976 001e A0B1     		cbz	r0, .L100
 977              	.LBB14:
 455:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Length = pEPinfo->PacketSize;
 978              		.loc 1 455 0
 979 0020 A58A     		ldrh	r5, [r4, #20]
 980              	.LVL83:
 461:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Buffer = (*pEPinfo->CopyData)(Length);
 981              		.loc 1 461 0
 982 0022 8542     		cmp	r5, r0
 983 0024 28BF     		it	cs
 984 0026 0546     		movcs	r5, r0
 985              	.LVL84:
 986 0028 2846     		mov	r0, r5
 987              	.LVL85:
 988 002a 8847     		blx	r1
 989              	.LVL86:
 990 002c 0646     		mov	r6, r0
 991              	.LVL87:
 462:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pEPinfo->Usb_rLength -= Length;
 992              		.loc 1 462 0
 993 002e 228A     		ldrh	r2, [r4, #16]
 994 0030 531B     		subs	r3, r2, r5
 995 0032 2382     		strh	r3, [r4, #16]	@ movhi
 463:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pEPinfo->Usb_rOffset += Length;
 996              		.loc 1 463 0
 997 0034 608A     		ldrh	r0, [r4, #18]
 998              	.LVL88:
 999 0036 2918     		adds	r1, r5, r0
 1000 0038 6182     		strh	r1, [r4, #18]	@ movhi
 464:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     PMAToUserBufferCopy(Buffer, GetEPRxAddr(ENDP0), Length);
 1001              		.loc 1 464 0
 1002 003a 0020     		movs	r0, #0
 1003 003c FFF7FEFF 		bl	GetEPRxAddr
 1004              	.LVL89:
 1005 0040 0146     		mov	r1, r0
 1006 0042 3046     		mov	r0, r6
 1007 0044 2A46     		mov	r2, r5
 1008 0046 FFF7FEFF 		bl	PMAToUserBufferCopy
 1009              	.LVL90:
 1010              	.L100:
 1011              	.LBE14:
 468:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->Usb_rLength != 0)
 1012              		.loc 1 468 0
 1013 004a 228A     		ldrh	r2, [r4, #16]
 1014 004c 52B1     		cbz	r2, .L101
 470:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_VALID);/* re-enable for next data reception */
 1015              		.loc 1 470 0
 1016 004e 4FF44050 		mov	r0, #12288
 1017 0052 1B4B     		ldr	r3, .L121+4
 1018 0054 1880     		strh	r0, [r3, #0]	@ movhi
 471:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     SetEPTxCount(ENDP0, 0);
 1019              		.loc 1 471 0
 1020 0056 0020     		movs	r0, #0
 1021 0058 0146     		mov	r1, r0
 1022 005a FFF7FEFF 		bl	SetEPTxCount
 1023              	.LVL91:
 472:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPTxStatus(EP_TX_VALID);/* Expect the host to abort the data OUT stage */
 1024              		.loc 1 472 0
 1025 005e 3021     		movs	r1, #48
 1026 0060 184A     		ldr	r2, .L121+8
 1027 0062 1180     		strh	r1, [r2, #0]	@ movhi
 1028              	.L101:
 475:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pEPinfo->Usb_rLength >= pEPinfo->PacketSize)
 1029              		.loc 1 475 0
 1030 0064 208A     		ldrh	r0, [r4, #16]
 1031 0066 A38A     		ldrh	r3, [r4, #20]
 1032 0068 8342     		cmp	r3, r0
 1033 006a 1449     		ldr	r1, .L121
 1034 006c 02D8     		bhi	.L102
 477:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = OUT_DATA;
 1035              		.loc 1 477 0
 1036 006e 0B68     		ldr	r3, [r1, #0]
 1037 0070 0322     		movs	r2, #3
 1038 0072 02E0     		b	.L120
 1039              	.L102:
 481:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (pEPinfo->Usb_rLength > 0)
 1040              		.loc 1 481 0
 1041 0074 18B1     		cbz	r0, .L104
 483:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = LAST_OUT_DATA;
 1042              		.loc 1 483 0
 1043 0076 0B68     		ldr	r3, [r1, #0]
 1044 0078 0522     		movs	r2, #5
 1045              	.L120:
 1046 007a 1A72     		strb	r2, [r3, #8]
 1047 007c 0CE0     		b	.L103
 1048              	.L104:
 487:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = WAIT_STATUS_IN;
 1049              		.loc 1 487 0
 1050 007e 0A68     		ldr	r2, [r1, #0]
 1051 0080 0623     		movs	r3, #6
 1052 0082 1372     		strb	r3, [r2, #8]
 488:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       USB_StatusIn();
 1053              		.loc 1 488 0
 1054 0084 1049     		ldr	r1, .L121+12
 1055 0086 0A68     		ldr	r2, [r1, #0]
 1056              	.LBE13:
 1057              		.loc 1 1031 0
 1058 0088 93B2     		uxth	r3, r2
 1059              	.LBB15:
 488:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       USB_StatusIn();
 1060              		.loc 1 488 0
 1061 008a 1049     		ldr	r1, .L121+16
 1062 008c 5A18     		adds	r2, r3, r1
 1063 008e 5300     		lsls	r3, r2, #1
 1064 0090 1860     		str	r0, [r3, #0]
 1065 0092 3020     		movs	r0, #48
 1066 0094 0B49     		ldr	r1, .L121+8
 1067 0096 0880     		strh	r0, [r1, #0]	@ movhi
 1068              	.L103:
 1069              	.LBE15:
 1070              	.LBE12:
 959:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = pInformation->ControlState; /* may be changed outside the function */
 1071              		.loc 1 959 0
 1072 0098 0848     		ldr	r0, .L121
 1073 009a 0168     		ldr	r1, [r0, #0]
 1074 009c 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 1075              	.LVL92:
 1076 009e 06E0     		b	.L97
 1077              	.LVL93:
 1078              	.L99:
 962:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (ControlState == WAIT_STATUS_OUT)
 1079              		.loc 1 962 0
 1080 00a0 0728     		cmp	r0, #7
 1081 00a2 03D1     		bne	.L107
 964:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*pProperty->Process_Status_OUT)();
 1082              		.loc 1 964 0
 1083 00a4 0A49     		ldr	r1, .L121+20
 1084 00a6 0A68     		ldr	r2, [r1, #0]
 1085 00a8 D368     		ldr	r3, [r2, #12]
 1086 00aa 9847     		blx	r3
 1087              	.LVL94:
 1088              	.L107:
 954:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 1089              		.loc 1 954 0
 1090 00ac 0823     		movs	r3, #8
 1091              	.L97:
 1092              	.LVL95:
 975:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 1093              		.loc 1 975 0
 1094 00ae 034A     		ldr	r2, .L121
 1095 00b0 1068     		ldr	r0, [r2, #0]
 1096 00b2 0372     		strb	r3, [r0, #8]
 978:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 1097              		.loc 1 978 0
 1098 00b4 BDE87040 		pop	{r4, r5, r6, lr}
 977:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 1099              		.loc 1 977 0
 1100 00b8 FFF7FEBF 		b	Post0_Process
 1101              	.LVL96:
 1102              	.L122:
 1103              		.align	2
 1104              	.L121:
 1105 00bc 00000000 		.word	pInformation
 1106 00c0 00000000 		.word	SaveRState
 1107 00c4 00000000 		.word	SaveTState
 1108 00c8 505C0040 		.word	1073765456
 1109 00cc 02300020 		.word	536883202
 1110 00d0 00000000 		.word	pProperty
 1111              		.cfi_endproc
 1112              	.LFE72:
 1114              		.section	.text.Setup0_Process,"ax",%progbits
 1115              		.align	1
 1116              		.global	Setup0_Process
 1117              		.thumb
 1118              		.thumb_func
 1120              	Setup0_Process:
 1121              	.LFB70:
 863:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 1122              		.loc 1 863 0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 8
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 1127              	.LCFI11:
 1128              		.cfi_def_cfa_offset 24
 1129              		.cfi_offset 0, -24
 1130              		.cfi_offset 1, -20
 1131              		.cfi_offset 4, -16
 1132              		.cfi_offset 5, -12
 1133              		.cfi_offset 6, -8
 1134              		.cfi_offset 14, -4
 1135              	.LVL97:
 872:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pBuf.b = PMAAddr + (uint8_t *)(_GetEPRxAddr(ENDP0) * 2); /* *2 for 32 bits addr */
 1136              		.loc 1 872 0
 1137 0002 954B     		ldr	r3, .L193
 1138 0004 1A68     		ldr	r2, [r3, #0]
 1139              		.loc 1 1031 0
 1140 0006 90B2     		uxth	r0, r2
 872:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pBuf.b = PMAAddr + (uint8_t *)(_GetEPRxAddr(ENDP0) * 2); /* *2 for 32 bits addr */
 1141              		.loc 1 872 0
 1142 0008 9449     		ldr	r1, .L193+4
 1143 000a 4418     		adds	r4, r0, r1
 1144 000c 6500     		lsls	r5, r4, #1
 1145 000e 2868     		ldr	r0, [r5, #0]
 1146              	.LVL98:
 874:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->ControlState != PAUSE)
 1147              		.loc 1 874 0
 1148 0010 934C     		ldr	r4, .L193+8
 1149 0012 2368     		ldr	r3, [r4, #0]
 1150 0014 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1151 0016 092A     		cmp	r2, #9
 1152 0018 17D0     		beq	.L124
 1153              		.loc 1 1031 0
 1154 001a 86B2     		uxth	r6, r0
 872:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pBuf.b = PMAAddr + (uint8_t *)(_GetEPRxAddr(ENDP0) * 2); /* *2 for 32 bits addr */
 1155              		.loc 1 872 0
 1156 001c 7100     		lsls	r1, r6, #1
 1157 001e 01F18045 		add	r5, r1, #1073741824
 1158 0022 05F5C045 		add	r5, r5, #24576
 876:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBbmRequestType = *pBuf.b++; /* bmRequestType */
 1159              		.loc 1 876 0
 1160 0026 2878     		ldrb	r0, [r5, #0]	@ zero_extendqisi2
 1161              	.LVL99:
 1162 0028 1870     		strb	r0, [r3, #0]
 877:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBbRequest = *pBuf.b++; /* bRequest */
 1163              		.loc 1 877 0
 1164 002a 2368     		ldr	r3, [r4, #0]
 1165 002c 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 1166 002e 5A70     		strb	r2, [r3, #1]
 879:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwValue = ByteSwap(*pBuf.w++); /* wValue */
 1167              		.loc 1 879 0
 1168 0030 2668     		ldr	r6, [r4, #0]
 1169 0032 A888     		ldrh	r0, [r5, #4]
 1170 0034 FFF7FEFF 		bl	ByteSwap
 1171              	.LVL100:
 1172 0038 7080     		strh	r0, [r6, #2]	@ movhi
 881:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwIndex  = ByteSwap(*pBuf.w++); /* wIndex */
 1173              		.loc 1 881 0
 1174 003a 2668     		ldr	r6, [r4, #0]
 1175 003c 2889     		ldrh	r0, [r5, #8]
 1176 003e FFF7FEFF 		bl	ByteSwap
 1177              	.LVL101:
 1178 0042 B080     		strh	r0, [r6, #4]	@ movhi
 883:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->USBwLength = *pBuf.w; /* wLength */
 1179              		.loc 1 883 0
 1180 0044 A989     		ldrh	r1, [r5, #12]
 1181 0046 2468     		ldr	r4, [r4, #0]
 1182 0048 E180     		strh	r1, [r4, #6]	@ movhi
 1183              	.L124:
 886:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = SETTING_UP;
 1184              		.loc 1 886 0
 1185 004a 854D     		ldr	r5, .L193+8
 1186 004c 2868     		ldr	r0, [r5, #0]
 1187 004e 0123     		movs	r3, #1
 1188 0050 0372     		strb	r3, [r0, #8]
 887:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->USBwLength == 0)
 1189              		.loc 1 887 0
 1190 0052 C288     		ldrh	r2, [r0, #6]
 1191 0054 4478     		ldrb	r4, [r0, #1]	@ zero_extendqisi2
 1192 0056 002A     		cmp	r2, #0
 1193 0058 64D1     		bne	.L125
 1194              	.LVL102:
 1195              	.LBB22:
 566:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 1196              		.loc 1 566 0
 1197 005a 0378     		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 1198              	.LBB23:
 1199 005c 13F07F02 		ands	r2, r3, #127
 1200 0060 38D1     		bne	.L126
 570:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == SET_CONFIGURATION)
 1201              		.loc 1 570 0
 1202 0062 092C     		cmp	r4, #9
 1203 0064 02D1     		bne	.L127
 572:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetConfiguration();
 1204              		.loc 1 572 0
 1205 0066 FFF7FEFF 		bl	Standard_SetConfiguration
 1206              	.LVL103:
 1207 006a 45E0     		b	.L128
 1208              	.LVL104:
 1209              	.L127:
 576:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_ADDRESS)
 1210              		.loc 1 576 0
 1211 006c 052C     		cmp	r4, #5
 1212 006e 0FD1     		bne	.L129
 578:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((pInformation->USBwValue0 > 127) || (pInformation->USBwValue1 != 0)
 1213              		.loc 1 578 0
 1214 0070 90F90320 		ldrsb	r2, [r0, #3]
 1215 0074 002A     		cmp	r2, #0
 1216 0076 01DA     		bge	.L130
 1217              	.LVL105:
 1218              	.L132:
 1219              	.LBE23:
 1220              	.LBE22:
 583:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         ControlState = STALLED;
 1221              		.loc 1 583 0
 1222 0078 0821     		movs	r1, #8
 1223 007a 4FE0     		b	.L131
 1224              	.LVL106:
 1225              	.L130:
 1226              	.LBB27:
 1227              	.LBB24:
 578:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((pInformation->USBwValue0 > 127) || (pInformation->USBwValue1 != 0)
 1228              		.loc 1 578 0
 1229 007c 8178     		ldrb	r1, [r0, #2]	@ zero_extendqisi2
 1230 007e 0029     		cmp	r1, #0
 1231 0080 FAD1     		bne	.L132
 579:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           || (pInformation->USBwIndex != 0)
 1232              		.loc 1 579 0
 1233 0082 8388     		ldrh	r3, [r0, #4]
 1234 0084 002B     		cmp	r3, #0
 1235 0086 F7D1     		bne	.L132
 580:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           || (pInformation->Current_Configuration != 0))
 1236              		.loc 1 580 0
 1237 0088 807A     		ldrb	r0, [r0, #10]	@ zero_extendqisi2
 1238 008a 0028     		cmp	r0, #0
 1239 008c 38D0     		beq	.L163
 1240 008e F3E7     		b	.L132
 1241              	.L129:
 592:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_FEATURE)
 1242              		.loc 1 592 0
 1243 0090 032C     		cmp	r4, #3
 1244 0092 10D1     		bne	.L134
 594:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((pInformation->USBwValue0 == DEVICE_REMOTE_WAKEUP) \
 1245              		.loc 1 594 0
 1246 0094 C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 1247 0096 012B     		cmp	r3, #1
 1248 0098 07D0     		beq	.L135
 1249              	.LVL107:
 1250              	.L137:
 653:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = (*pProperty->Class_NoData_Setup)(RequestNo);
 1251              		.loc 1 653 0
 1252 009a 724A     		ldr	r2, .L193+12
 1253 009c 1168     		ldr	r1, [r2, #0]
 1254 009e 4B69     		ldr	r3, [r1, #20]
 1255 00a0 2046     		mov	r0, r4
 1256 00a2 9847     		blx	r3
 1257              	.LVL108:
 654:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Result == USB_NOT_READY)
 1258              		.loc 1 654 0
 1259 00a4 0328     		cmp	r0, #3
 1260 00a6 29D1     		bne	.L186
 1261 00a8 37E0     		b	.L192
 1262              	.LVL109:
 1263              	.L135:
 595:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (pInformation->USBwIndex == 0))
 1264              		.loc 1 595 0
 1265 00aa 8088     		ldrh	r0, [r0, #4]
 1266 00ac 0028     		cmp	r0, #0
 1267 00ae F4D1     		bne	.L137
 597:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Result = Standard_SetDeviceFeature();
 1268              		.loc 1 597 0
 1269 00b0 FFF7FEFF 		bl	Standard_SetDeviceFeature
 1270              	.LVL110:
 1271 00b4 20E0     		b	.L128
 1272              	.LVL111:
 1273              	.L134:
 605:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == CLEAR_FEATURE)
 1274              		.loc 1 605 0
 1275 00b6 012C     		cmp	r4, #1
 1276 00b8 EFD1     		bne	.L137
 607:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (pInformation->USBwValue0 == DEVICE_REMOTE_WAKEUP
 1277              		.loc 1 607 0
 1278 00ba C178     		ldrb	r1, [r0, #3]	@ zero_extendqisi2
 1279 00bc 0129     		cmp	r1, #1
 1280 00be ECD1     		bne	.L137
 608:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && pInformation->USBwIndex == 0
 1281              		.loc 1 608 0
 1282 00c0 8388     		ldrh	r3, [r0, #4]
 1283 00c2 002B     		cmp	r3, #0
 1284 00c4 E9D1     		bne	.L137
 1285              	.LBE24:
 609:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && ValBit(pInformation->Current_Feature, 5))
 1286              		.loc 1 609 0
 1287 00c6 407A     		ldrb	r0, [r0, #9]	@ zero_extendqisi2
 1288              	.LBB25:
 1289 00c8 00F02002 		and	r2, r0, #32
 1290 00cc D1B2     		uxtb	r1, r2
 1291 00ce 0029     		cmp	r1, #0
 1292 00d0 E3D0     		beq	.L137
 1293 00d2 0AE0     		b	.L188
 1294              	.L126:
 622:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 1295              		.loc 1 622 0
 1296 00d4 012A     		cmp	r2, #1
 1297 00d6 04D1     		bne	.L138
 625:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == SET_INTERFACE)
 1298              		.loc 1 625 0
 1299 00d8 0B2C     		cmp	r4, #11
 1300 00da DED1     		bne	.L137
 627:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetInterface();
 1301              		.loc 1 627 0
 1302 00dc FFF7FEFF 		bl	Standard_SetInterface
 1303              	.LVL112:
 1304 00e0 0AE0     		b	.L128
 1305              	.LVL113:
 1306              	.L138:
 632:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Type_Recipient == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 1307              		.loc 1 632 0
 1308 00e2 022A     		cmp	r2, #2
 1309 00e4 D9D1     		bne	.L137
 635:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (RequestNo == CLEAR_FEATURE)
 1310              		.loc 1 635 0
 1311 00e6 012C     		cmp	r4, #1
 1312 00e8 02D1     		bne	.L139
 1313              	.L188:
 637:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_ClearFeature();
 1314              		.loc 1 637 0
 1315 00ea FFF7FEFF 		bl	Standard_ClearFeature
 1316              	.LVL114:
 1317 00ee 03E0     		b	.L128
 1318              	.LVL115:
 1319              	.L139:
 640:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (RequestNo == SET_FEATURE)
 1320              		.loc 1 640 0
 1321 00f0 032C     		cmp	r4, #3
 1322 00f2 D2D1     		bne	.L137
 642:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Result = Standard_SetEndPointFeature();
 1323              		.loc 1 642 0
 1324 00f4 FFF7FEFF 		bl	Standard_SetEndPointFeature
 1325              	.LVL116:
 1326              	.L128:
 651:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Result != USB_SUCCESS)
 1327              		.loc 1 651 0
 1328 00f8 10B1     		cbz	r0, .L163
 1329 00fa CEE7     		b	.L137
 1330              	.L186:
 661:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Result != USB_SUCCESS)
 1331              		.loc 1 661 0
 1332 00fc 0028     		cmp	r0, #0
 1333 00fe BBD1     		bne	.L132
 1334              	.LVL117:
 1335              	.L163:
 669:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   USB_StatusIn();
 1336              		.loc 1 669 0
 1337 0100 5548     		ldr	r0, .L193
 1338 0102 0268     		ldr	r2, [r0, #0]
 1339              	.LBE25:
 1340              		.loc 1 1031 0
 1341 0104 91B2     		uxth	r1, r2
 1342              	.LBB26:
 669:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   USB_StatusIn();
 1343              		.loc 1 669 0
 1344 0106 584B     		ldr	r3, .L193+16
 1345 0108 C818     		adds	r0, r1, r3
 1346 010a 4100     		lsls	r1, r0, #1
 1347 010c 0022     		movs	r2, #0
 1348 010e 0A60     		str	r2, [r1, #0]
 1349 0110 3020     		movs	r0, #48
 1350 0112 564B     		ldr	r3, .L193+20
 1351 0114 1880     		strh	r0, [r3, #0]	@ movhi
 667:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   ControlState = WAIT_STATUS_IN;/* After no data stage SETUP */
 1352              		.loc 1 667 0
 1353 0116 0621     		movs	r1, #6
 1354 0118 00E0     		b	.L131
 1355              	.LVL118:
 1356              	.L192:
 656:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       ControlState = PAUSE;
 1357              		.loc 1 656 0
 1358 011a 0921     		movs	r1, #9
 1359              	.LVL119:
 1360              	.L131:
 672:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 1361              		.loc 1 672 0
 1362 011c 504A     		ldr	r2, .L193+8
 1363 011e 1068     		ldr	r0, [r2, #0]
 1364 0120 0172     		strb	r1, [r0, #8]
 1365 0122 D3E0     		b	.L140
 1366              	.LVL120:
 1367              	.L125:
 1368              	.LBE26:
 1369              	.LBE27:
 1370              	.LBB28:
 1371              	.LBB29:
 698:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (Request_No == GET_DESCRIPTOR)
 1372              		.loc 1 698 0
 1373 0124 062C     		cmp	r4, #6
 1374 0126 13D1     		bne	.L141
 1375              	.LBE29:
 700:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 1376              		.loc 1 700 0
 1377 0128 0278     		ldrb	r2, [r0, #0]	@ zero_extendqisi2
 1378              	.LBB32:
 1379 012a 5106     		lsls	r1, r2, #25
 1380 012c 7AD1     		bne	.L154
 1381              	.LBB30:
 702:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       uint8_t wValue1 = pInformation->USBwValue1;
 1382              		.loc 1 702 0
 1383 012e 8178     		ldrb	r1, [r0, #2]	@ zero_extendqisi2
 1384              	.LVL121:
 703:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (wValue1 == DEVICE_DESCRIPTOR)
 1385              		.loc 1 703 0
 1386 0130 0129     		cmp	r1, #1
 1387 0132 4C4B     		ldr	r3, .L193+12
 1388 0134 02D1     		bne	.L143
 705:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetDeviceDescriptor;
 1389              		.loc 1 705 0
 1390 0136 1A68     		ldr	r2, [r3, #0]
 1391 0138 D169     		ldr	r1, [r2, #28]
 1392              	.LVL122:
 1393 013a 69E0     		b	.L144
 1394              	.LVL123:
 1395              	.L143:
 707:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if (wValue1 == CONFIG_DESCRIPTOR)
 1396              		.loc 1 707 0
 1397 013c 0229     		cmp	r1, #2
 1398 013e 02D1     		bne	.L145
 709:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetConfigDescriptor;
 1399              		.loc 1 709 0
 1400 0140 1C68     		ldr	r4, [r3, #0]
 1401              	.LVL124:
 1402 0142 216A     		ldr	r1, [r4, #32]
 1403              	.LVL125:
 1404 0144 64E0     		b	.L144
 1405              	.LVL126:
 1406              	.L145:
 711:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if (wValue1 == STRING_DESCRIPTOR)
 1407              		.loc 1 711 0
 1408 0146 0329     		cmp	r1, #3
 1409 0148 6CD1     		bne	.L154
 713:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         CopyRoutine = pProperty->GetStringDescriptor;
 1410              		.loc 1 713 0
 1411 014a 1868     		ldr	r0, [r3, #0]
 1412              	.LVL127:
 1413 014c 416A     		ldr	r1, [r0, #36]
 1414              	.LVL128:
 1415 014e 5FE0     		b	.L144
 1416              	.LVL129:
 1417              	.L141:
 1418              	.LBE30:
 719:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if ((Request_No == GET_STATUS) && (pInformation->USBwValue == 0)
 1419              		.loc 1 719 0
 1420 0150 002C     		cmp	r4, #0
 1421 0152 3ED1     		bne	.L146
 1422 0154 4188     		ldrh	r1, [r0, #2]
 1423 0156 0029     		cmp	r1, #0
 1424 0158 64D1     		bne	.L154
 721:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****            && (pInformation->USBwIndex1 == 0))
 1425              		.loc 1 721 0
 1426 015a 4368     		ldr	r3, [r0, #4]
 1427 015c 23F47F42 		bic	r2, r3, #65280
 1428 0160 B2F5003F 		cmp	r2, #131072
 1429 0164 5ED1     		bne	.L154
 1430              	.LBE32:
 724:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 1431              		.loc 1 724 0
 1432 0166 0478     		ldrb	r4, [r0, #0]	@ zero_extendqisi2
 1433              	.LVL130:
 1434              	.LBB33:
 1435 0168 14F07F03 		ands	r3, r4, #127
 1436 016c 04D1     		bne	.L147
 725:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->USBwIndex == 0))
 1437              		.loc 1 725 0
 1438 016e 8488     		ldrh	r4, [r0, #4]
 1439 0170 002C     		cmp	r4, #0
 1440 0172 00F0AE80 		beq	.L148
 1441 0176 55E0     		b	.L154
 1442              	.L147:
 731:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 1443              		.loc 1 731 0
 1444 0178 012B     		cmp	r3, #1
 1445 017a 0CD1     		bne	.L149
 733:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (((*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, 0) == USB_SUCCESS)
 1446              		.loc 1 733 0
 1447 017c 394C     		ldr	r4, .L193+12
 1448 017e 2268     		ldr	r2, [r4, #0]
 1449 0180 9369     		ldr	r3, [r2, #24]
 1450 0182 4079     		ldrb	r0, [r0, #5]	@ zero_extendqisi2
 1451              	.LVL131:
 1452 0184 9847     		blx	r3
 1453              	.LVL132:
 1454 0186 0028     		cmp	r0, #0
 1455 0188 4CD1     		bne	.L154
 734:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (pInformation->Current_Configuration != 0))
 1456              		.loc 1 734 0
 1457 018a 2968     		ldr	r1, [r5, #0]
 1458 018c 887A     		ldrb	r0, [r1, #10]	@ zero_extendqisi2
 1459 018e 0028     		cmp	r0, #0
 1460 0190 40F09F80 		bne	.L148
 1461 0194 46E0     		b	.L154
 1462              	.LVL133:
 1463              	.L149:
 741:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (Type_Recipient == (STANDARD_REQUEST | ENDPOINT_RECIPIENT))
 1464              		.loc 1 741 0
 1465 0196 022B     		cmp	r3, #2
 1466 0198 44D1     		bne	.L154
 743:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       Related_Endpoint = (pInformation->USBwIndex0 & 0x0f);
 1467              		.loc 1 743 0
 1468 019a 4479     		ldrb	r4, [r0, #5]	@ zero_extendqisi2
 1469 019c 04F00F01 		and	r1, r4, #15
 1470              	.LVL134:
 746:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (ValBit(pInformation->USBwIndex0, 7))
 1471              		.loc 1 746 0
 1472 01a0 14F0800F 		tst	r4, #128
 1473 01a4 4FEA8100 		lsl	r0, r1, #2
 1474              	.LVL135:
 750:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Status = _GetEPTxStatus(Related_Endpoint);
 1475              		.loc 1 750 0
 1476 01a8 00F18042 		add	r2, r0, #1073741824
 1477 01ac 02F5B843 		add	r3, r2, #23552
 1478 01b0 1A68     		ldr	r2, [r3, #0]
 1479 01b2 14BF     		ite	ne
 1480 01b4 02F03002 		andne	r2, r2, #48
 1481              	.LVL136:
 754:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Status = _GetEPRxStatus(Related_Endpoint);
 1482              		.loc 1 754 0
 1483 01b8 02F44052 		andeq	r2, r2, #12288
 1484              	.LVL137:
 757:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if ((Related_Endpoint < Device_Table.Total_Endpoint) && (Reserved == 0)
 1485              		.loc 1 757 0
 1486 01bc 2C48     		ldr	r0, .L193+24
 1487 01be 0378     		ldrb	r3, [r0, #0]	@ zero_extendqisi2
 1488 01c0 9942     		cmp	r1, r3
 1489 01c2 2FD2     		bcs	.L154
 1490 01c4 14F0700F 		tst	r4, #112
 1491 01c8 2CD1     		bne	.L154
 758:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****           && (Status != 0))
 1492              		.loc 1 758 0
 1493 01ca 002A     		cmp	r2, #0
 1494 01cc 40F08180 		bne	.L148
 1495 01d0 28E0     		b	.L154
 1496              	.LVL138:
 1497              	.L146:
 767:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Request_No == GET_CONFIGURATION)
 1498              		.loc 1 767 0
 1499 01d2 082C     		cmp	r4, #8
 1500 01d4 03D1     		bne	.L152
 1501              	.LBE33:
 769:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT))
 1502              		.loc 1 769 0
 1503 01d6 0078     		ldrb	r0, [r0, #0]	@ zero_extendqisi2
 1504              	.LBB34:
 1505 01d8 4206     		lsls	r2, r0, #25
 1506 01da 7CD0     		beq	.L166
 1507 01dc 22E0     		b	.L154
 1508              	.L152:
 775:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (Request_No == GET_INTERFACE)
 1509              		.loc 1 775 0
 1510 01de 0A2C     		cmp	r4, #10
 1511 01e0 20D1     		bne	.L154
 1512              	.LBE34:
 777:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((Type_Recipient == (STANDARD_REQUEST | INTERFACE_RECIPIENT))
 1513              		.loc 1 777 0
 1514 01e2 0178     		ldrb	r1, [r0, #0]	@ zero_extendqisi2
 1515              	.LBB35:
 1516 01e4 01F07F04 		and	r4, r1, #127
 1517              	.LVL139:
 1518 01e8 012C     		cmp	r4, #1
 1519 01ea 1BD1     		bne	.L154
 778:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->Current_Configuration != 0) && (pInformation->USBwValue == 0)
 1520              		.loc 1 778 0
 1521 01ec 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 1522 01ee CBB1     		cbz	r3, .L154
 1523 01f0 4188     		ldrh	r1, [r0, #2]
 1524 01f2 B9B9     		cbnz	r1, .L154
 779:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && (pInformation->USBwIndex1 == 0) && (pInformation->USBwLength == 0x0001)
 1525              		.loc 1 779 0
 1526 01f4 4268     		ldr	r2, [r0, #4]
 1527 01f6 22F47F44 		bic	r4, r2, #65280
 1528 01fa B4F5803F 		cmp	r4, #65536
 1529 01fe 11D1     		bne	.L154
 780:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         && ((*pProperty->Class_Get_Interface_Setting)(pInformation->USBwIndex0, 0) == USB_SUCCESS))
 1530              		.loc 1 780 0
 1531 0200 184B     		ldr	r3, .L193+12
 1532 0202 1A68     		ldr	r2, [r3, #0]
 1533 0204 9469     		ldr	r4, [r2, #24]
 1534 0206 4079     		ldrb	r0, [r0, #5]	@ zero_extendqisi2
 1535              	.LVL140:
 1536 0208 A047     		blx	r4
 1537              	.LVL141:
 1538 020a 0028     		cmp	r0, #0
 1539 020c 65D0     		beq	.L167
 1540 020e 09E0     		b	.L154
 1541              	.LVL142:
 1542              	.L144:
 787:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (CopyRoutine)
 1543              		.loc 1 787 0
 1544 0210 41B1     		cbz	r1, .L154
 1545              	.LVL143:
 1546              	.L164:
 789:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.Usb_wOffset = wOffset;
 1547              		.loc 1 789 0
 1548 0212 134C     		ldr	r4, .L193+8
 1549 0214 2068     		ldr	r0, [r4, #0]
 1550 0216 0024     		movs	r4, #0
 1551 0218 4482     		strh	r4, [r0, #18]	@ movhi
 790:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.CopyData = CopyRoutine;
 1552              		.loc 1 790 0
 1553 021a 8161     		str	r1, [r0, #24]
 793:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*CopyRoutine)(0);
 1554              		.loc 1 793 0
 1555 021c 2046     		mov	r0, r4
 1556 021e 8847     		blx	r1
 1557              	.LVL144:
 794:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = USB_SUCCESS;
 1558              		.loc 1 794 0
 1559 0220 2046     		mov	r0, r4
 1560 0222 0AE0     		b	.L155
 1561              	.LVL145:
 1562              	.L154:
 798:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     Result = (*pProperty->Class_Data_Setup)(pInformation->USBbRequest);
 1563              		.loc 1 798 0
 1564 0224 0F49     		ldr	r1, .L193+12
 1565 0226 0868     		ldr	r0, [r1, #0]
 1566 0228 0D4C     		ldr	r4, .L193+8
 1567 022a 2368     		ldr	r3, [r4, #0]
 1568 022c 0269     		ldr	r2, [r0, #16]
 1569 022e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1570 0230 9047     		blx	r2
 1571              	.LVL146:
 799:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (Result == USB_NOT_READY)
 1572              		.loc 1 799 0
 1573 0232 0328     		cmp	r0, #3
 1574 0234 01D1     		bne	.L155
 801:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->ControlState = PAUSE;
 1575              		.loc 1 801 0
 1576 0236 2368     		ldr	r3, [r4, #0]
 1577 0238 06E0     		b	.L191
 1578              	.LVL147:
 1579              	.L155:
 806:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (pInformation->Ctrl_Info.Usb_wLength == 0xFFFF)
 1580              		.loc 1 806 0
 1581 023a 0949     		ldr	r1, .L193+8
 1582 023c 0B68     		ldr	r3, [r1, #0]
 1583 023e 1A8A     		ldrh	r2, [r3, #16]
 1584 0240 4FF6FF71 		movw	r1, #65535
 1585 0244 8A42     		cmp	r2, r1
 1586 0246 01D1     		bne	.L156
 1587              	.LVL148:
 1588              	.L191:
 809:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = PAUSE;
 1589              		.loc 1 809 0
 1590 0248 0921     		movs	r1, #9
 1591 024a 03E0     		b	.L190
 1592              	.LVL149:
 1593              	.L156:
 812:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((Result == USB_UNSUPPORT) || (pInformation->Ctrl_Info.Usb_wLength == 0))
 1594              		.loc 1 812 0
 1595 024c 0228     		cmp	r0, #2
 1596 024e 00D0     		beq	.L157
 1597 0250 82B9     		cbnz	r2, .L158
 1598              	.L157:
 815:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = STALLED;
 1599              		.loc 1 815 0
 1600 0252 0821     		movs	r1, #8
 1601              	.LVL150:
 1602              	.L190:
 1603 0254 1972     		strb	r1, [r3, #8]
 1604 0256 39E0     		b	.L140
 1605              	.L194:
 1606              		.align	2
 1607              	.L193:
 1608 0258 505C0040 		.word	1073765456
 1609 025c 04300020 		.word	536883204
 1610 0260 00000000 		.word	pInformation
 1611 0264 00000000 		.word	pProperty
 1612 0268 02300020 		.word	536883202
 1613 026c 00000000 		.word	SaveTState
 1614 0270 00000000 		.word	Device_Table
 1615              	.LVL151:
 1616              	.L158:
 820:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if (ValBit(pInformation->USBbmRequestType, 7))
 1617              		.loc 1 820 0
 1618 0274 93F90000 		ldrsb	r0, [r3, #0]
 1619              	.LVL152:
 1620 0278 0028     		cmp	r0, #0
 1621 027a 21DA     		bge	.L159
 1622              	.LBB31:
 823:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     __IO uint32_t wLength = pInformation->USBwLength;
 1623              		.loc 1 823 0
 1624 027c D988     		ldrh	r1, [r3, #6]
 1625 027e 0191     		str	r1, [sp, #4]
 1626              	.LVL153:
 826:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if (pInformation->Ctrl_Info.Usb_wLength > wLength)
 1627              		.loc 1 826 0
 1628 0280 0198     		ldr	r0, [sp, #4]
 1629 0282 8242     		cmp	r2, r0
 1630 0284 02D9     		bls	.L160
 828:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pInformation->Ctrl_Info.Usb_wLength = wLength;
 1631              		.loc 1 828 0
 1632 0286 019A     		ldr	r2, [sp, #4]
 1633 0288 1A82     		strh	r2, [r3, #16]	@ movhi
 1634 028a 11E0     		b	.L161
 1635              	.L160:
 831:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     else if (pInformation->Ctrl_Info.Usb_wLength < pInformation->USBwLength)
 1636              		.loc 1 831 0
 1637 028c 8A42     		cmp	r2, r1
 1638 028e 0FD2     		bcs	.L161
 833:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       if (pInformation->Ctrl_Info.Usb_wLength < pProperty->MaxPacketSize)
 1639              		.loc 1 833 0
 1640 0290 1349     		ldr	r1, .L195
 1641 0292 0868     		ldr	r0, [r1, #0]
 1642 0294 90F82C10 		ldrb	r1, [r0, #44]	@ zero_extendqisi2
 1643 0298 8A42     		cmp	r2, r1
 1644 029a 01D2     		bcs	.L162
 835:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Data_Mul_MaxPacketSize = FALSE;
 1645              		.loc 1 835 0
 1646 029c 0021     		movs	r1, #0
 1647 029e 05E0     		b	.L189
 1648              	.L162:
 837:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       else if ((pInformation->Ctrl_Info.Usb_wLength % pProperty->MaxPacketSize) == 0)
 1649              		.loc 1 837 0
 1650 02a0 92FBF1F0 		sdiv	r0, r2, r1
 1651 02a4 01FB1022 		mls	r2, r1, r0, r2
 1652 02a8 12B9     		cbnz	r2, .L161
 839:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         Data_Mul_MaxPacketSize = TRUE;
 1653              		.loc 1 839 0
 1654 02aa 0121     		movs	r1, #1
 1655              	.L189:
 1656 02ac 0D48     		ldr	r0, .L195+4
 1657 02ae 0170     		strb	r1, [r0, #0]
 1658              	.L161:
 843:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->Ctrl_Info.PacketSize = pProperty->MaxPacketSize;
 1659              		.loc 1 843 0
 1660 02b0 0B49     		ldr	r1, .L195
 1661 02b2 0868     		ldr	r0, [r1, #0]
 1662 02b4 90F82C20 		ldrb	r2, [r0, #44]	@ zero_extendqisi2
 1663 02b8 9A82     		strh	r2, [r3, #20]	@ movhi
 844:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DataStageIn();
 1664              		.loc 1 844 0
 1665 02ba FFF7FEFF 		bl	DataStageIn
 1666              	.LVL154:
 1667 02be 05E0     		b	.L140
 1668              	.LVL155:
 1669              	.L159:
 1670              	.LBE31:
 848:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     pInformation->ControlState = OUT_DATA;
 1671              		.loc 1 848 0
 1672 02c0 0322     		movs	r2, #3
 1673 02c2 1A72     		strb	r2, [r3, #8]
 849:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     vSetEPRxStatus(EP_RX_VALID); /* enable for next data reception */
 1674              		.loc 1 849 0
 1675 02c4 4FF44051 		mov	r1, #12288
 1676 02c8 074B     		ldr	r3, .L195+8
 1677 02ca 1980     		strh	r1, [r3, #0]	@ movhi
 1678              	.LVL156:
 1679              	.L140:
 1680              	.LBE35:
 1681              	.LBE28:
 897:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 1682              		.loc 1 897 0
 1683 02cc FFF7FEFF 		bl	Post0_Process
 1684              	.LVL157:
 898:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 1685              		.loc 1 898 0
 1686 02d0 7CBD     		pop	{r2, r3, r4, r5, r6, pc}
 1687              	.LVL158:
 1688              	.L148:
 1689              	.LBB37:
 1690              	.LBB36:
 727:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetStatus;
 1691              		.loc 1 727 0
 1692 02d2 0649     		ldr	r1, .L195+12
 1693 02d4 9DE7     		b	.L164
 1694              	.LVL159:
 1695              	.L166:
 771:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetConfiguration;
 1696              		.loc 1 771 0
 1697 02d6 0649     		ldr	r1, .L195+16
 1698 02d8 9BE7     		b	.L164
 1699              	.LVL160:
 1700              	.L167:
 782:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       CopyRoutine = Standard_GetInterface;
 1701              		.loc 1 782 0
 1702 02da 0649     		ldr	r1, .L195+20
 1703              	.LVL161:
 1704 02dc 99E7     		b	.L164
 1705              	.L196:
 1706 02de 00BF     		.align	2
 1707              	.L195:
 1708 02e0 00000000 		.word	pProperty
 1709 02e4 00000000 		.word	.LANCHOR1
 1710 02e8 00000000 		.word	SaveRState
 1711 02ec 00000000 		.word	Standard_GetStatus
 1712 02f0 00000000 		.word	Standard_GetConfiguration
 1713 02f4 00000000 		.word	Standard_GetInterface
 1714              	.LBE36:
 1715              	.LBE37:
 1716              		.cfi_endproc
 1717              	.LFE70:
 1719              		.section	.text.SetDeviceAddress,"ax",%progbits
 1720              		.align	1
 1721              		.global	SetDeviceAddress
 1722              		.thumb
 1723              		.thumb_func
 1725              	SetDeviceAddress:
 1726              	.LFB74:
1010:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 1727              		.loc 1 1010 0
 1728              		.cfi_startproc
 1729              		@ args = 0, pretend = 0, frame = 0
 1730              		@ frame_needed = 0, uses_anonymous_args = 0
 1731              	.LVL162:
 1732 0000 70B5     		push	{r4, r5, r6, lr}
 1733              	.LCFI12:
 1734              		.cfi_def_cfa_offset 16
 1735              		.cfi_offset 4, -16
 1736              		.cfi_offset 5, -12
 1737              		.cfi_offset 6, -8
 1738              		.cfi_offset 14, -4
1012:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t nEP = Device_Table.Total_Endpoint;
 1739              		.loc 1 1012 0
 1740 0002 0D4B     		ldr	r3, .L201
 1741 0004 1C78     		ldrb	r4, [r3, #0]	@ zero_extendqisi2
 1742              	.LVL163:
1015:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   for (i = 0; i < nEP; i++)
 1743              		.loc 1 1015 0
 1744 0006 0023     		movs	r3, #0
 1745              	.LVL164:
 1746              	.L198:
1015:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   for (i = 0; i < nEP; i++)
 1747              		.loc 1 1015 0 is_stmt 0 discriminator 1
 1748 0008 A342     		cmp	r3, r4
 1749 000a 10D2     		bcs	.L200
 1750              	.L199:
1009:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** void SetDeviceAddress(uint8_t Val)
 1751              		.loc 1 1009 0 is_stmt 1 discriminator 2
 1752 000c 03F18052 		add	r2, r3, #268435456
 1753 0010 02F5B855 		add	r5, r2, #5888
 1754 0014 A900     		lsls	r1, r5, #2
1017:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     _SetEPAddress((uint8_t)i, (uint8_t)i);
 1755              		.loc 1 1017 0 discriminator 2
 1756 0016 0E68     		ldr	r6, [r1, #0]
 1757 0018 43F40042 		orr	r2, r3, #32768
 1758 001c 42F08005 		orr	r5, r2, #128
 1759 0020 40F60F72 		movw	r2, #3855
 1760 0024 3240     		ands	r2, r2, r6
 1761 0026 2A43     		orrs	r2, r2, r5
 1762 0028 0A60     		str	r2, [r1, #0]
1015:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   for (i = 0; i < nEP; i++)
 1763              		.loc 1 1015 0 discriminator 2
 1764 002a 0133     		adds	r3, r3, #1
 1765              	.LVL165:
 1766 002c ECE7     		b	.L198
 1767              	.L200:
1019:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   _SetDADDR(Val | DADDR_EF); /* set device address and enable function */ 
 1768              		.loc 1 1019 0
 1769 002e 40F08000 		orr	r0, r0, #128
 1770              	.LVL166:
 1771 0032 0249     		ldr	r1, .L201+4
 1772 0034 0860     		str	r0, [r1, #0]
 1773 0036 70BD     		pop	{r4, r5, r6, pc}
 1774              	.L202:
 1775              		.align	2
 1776              	.L201:
 1777 0038 00000000 		.word	Device_Table
 1778 003c 4C5C0040 		.word	1073765452
 1779              		.cfi_endproc
 1780              	.LFE74:
 1782              		.section	.text.In0_Process,"ax",%progbits
 1783              		.align	1
 1784              		.global	In0_Process
 1785              		.thumb
 1786              		.thumb_func
 1788              	In0_Process:
 1789              	.LFB71:
 908:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 1790              		.loc 1 908 0
 1791              		.cfi_startproc
 1792              		@ args = 0, pretend = 0, frame = 0
 1793              		@ frame_needed = 0, uses_anonymous_args = 0
 1794 0000 10B5     		push	{r4, lr}
 1795              	.LCFI13:
 1796              		.cfi_def_cfa_offset 8
 1797              		.cfi_offset 4, -8
 1798              		.cfi_offset 14, -4
 909:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   uint32_t ControlState = pInformation->ControlState;
 1799              		.loc 1 909 0
 1800 0002 1449     		ldr	r1, .L212
 1801 0004 0B68     		ldr	r3, [r1, #0]
 1802 0006 1A7A     		ldrb	r2, [r3, #8]	@ zero_extendqisi2
 1803              	.LVL167:
 911:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 1804              		.loc 1 911 0
 1805 0008 022A     		cmp	r2, #2
 1806 000a 0C46     		mov	r4, r1
 1807 000c 01D0     		beq	.L204
 911:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   if ((ControlState == IN_DATA) || (ControlState == LAST_IN_DATA))
 1808              		.loc 1 911 0 is_stmt 0 discriminator 1
 1809 000e 042A     		cmp	r2, #4
 1810 0010 04D1     		bne	.L205
 1811              	.L204:
 913:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     DataStageIn();
 1812              		.loc 1 913 0 is_stmt 1
 1813 0012 FFF7FEFF 		bl	DataStageIn
 1814              	.LVL168:
 915:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = pInformation->ControlState;
 1815              		.loc 1 915 0
 1816 0016 2168     		ldr	r1, [r4, #0]
 1817 0018 087A     		ldrb	r0, [r1, #8]	@ zero_extendqisi2
 1818              	.LVL169:
 1819 001a 13E0     		b	.L206
 1820              	.LVL170:
 1821              	.L205:
 918:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   else if (ControlState == WAIT_STATUS_IN)
 1822              		.loc 1 918 0
 1823 001c 062A     		cmp	r2, #6
 1824 001e 10D1     		bne	.L208
 920:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((pInformation->USBbRequest == SET_ADDRESS) &&
 1825              		.loc 1 920 0
 1826 0020 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1827 0022 0528     		cmp	r0, #5
 1828 0024 09D1     		bne	.L207
 921:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****         (Type_Recipient == (STANDARD_REQUEST | DEVICE_RECIPIENT)))
 1829              		.loc 1 921 0 discriminator 1
 1830 0026 1978     		ldrb	r1, [r3, #0]	@ zero_extendqisi2
 920:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     if ((pInformation->USBbRequest == SET_ADDRESS) &&
 1831              		.loc 1 920 0 discriminator 1
 1832 0028 4806     		lsls	r0, r1, #25
 1833 002a 06D1     		bne	.L207
 923:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       SetDeviceAddress(pInformation->USBwValue0);
 1834              		.loc 1 923 0
 1835 002c D878     		ldrb	r0, [r3, #3]	@ zero_extendqisi2
 1836 002e FFF7FEFF 		bl	SetDeviceAddress
 1837              	.LVL171:
 924:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****       pUser_Standard_Requests->User_SetDeviceAddress();
 1838              		.loc 1 924 0
 1839 0032 094B     		ldr	r3, .L212+4
 1840 0034 1A68     		ldr	r2, [r3, #0]
 1841 0036 106A     		ldr	r0, [r2, #32]
 1842 0038 8047     		blx	r0
 1843              	.LVL172:
 1844              	.L207:
 926:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     (*pProperty->Process_Status_IN)();
 1845              		.loc 1 926 0
 1846 003a 0849     		ldr	r1, .L212+8
 1847 003c 0B68     		ldr	r3, [r1, #0]
 1848 003e 9A68     		ldr	r2, [r3, #8]
 1849 0040 9047     		blx	r2
 1850              	.LVL173:
 1851              	.L208:
 932:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****     ControlState = STALLED;
 1852              		.loc 1 932 0
 1853 0042 0820     		movs	r0, #8
 1854              	.L206:
 1855              	.LVL174:
 935:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   pInformation->ControlState = ControlState;
 1856              		.loc 1 935 0
 1857 0044 034B     		ldr	r3, .L212
 1858 0046 1A68     		ldr	r2, [r3, #0]
 1859 0048 1072     		strb	r0, [r2, #8]
 938:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** }
 1860              		.loc 1 938 0
 1861 004a BDE81040 		pop	{r4, lr}
 937:lib/STM32_USB-FS-Device_Driver/src/usb_core.c ****   return Post0_Process();
 1862              		.loc 1 937 0
 1863 004e FFF7FEBF 		b	Post0_Process
 1864              	.LVL175:
 1865              	.L213:
 1866 0052 00BF     		.align	2
 1867              	.L212:
 1868 0054 00000000 		.word	pInformation
 1869 0058 00000000 		.word	pUser_Standard_Requests
 1870 005c 00000000 		.word	pProperty
 1871              		.cfi_endproc
 1872              	.LFE71:
 1874              		.section	.text.NOP_Process,"ax",%progbits
 1875              		.align	1
 1876              		.global	NOP_Process
 1877              		.thumb
 1878              		.thumb_func
 1880              	NOP_Process:
 1881              	.LFB75:
1030:lib/STM32_USB-FS-Device_Driver/src/usb_core.c **** {
 1882              		.loc 1 1030 0
 1883              		.cfi_startproc
 1884              		@ args = 0, pretend = 0, frame = 0
 1885              		@ frame_needed = 0, uses_anonymous_args = 0
 1886              		@ link register save eliminated.
 1887 0000 7047     		bx	lr
 1888              		.cfi_endproc
 1889              	.LFE75:
 1891              		.global	Data_Mul_MaxPacketSize
 1892              		.global	StatusInfo
 1893              		.section	.bss.Data_Mul_MaxPacketSize,"aw",%nobits
 1894              		.set	.LANCHOR1,. + 0
 1897              	Data_Mul_MaxPacketSize:
 1898 0000 00       		.space	1
 1899              		.section	.bss.StatusInfo,"aw",%nobits
 1900              		.align	1
 1901              		.set	.LANCHOR0,. + 0
 1904              	StatusInfo:
 1905 0000 0000     		.space	2
 1906              		.text
 1907              	.Letext0:
 1908              		.file 2 "c:\\devz\\arm\\launchpad\\bin\\../lib/gcc/arm-none-eabi/4.7.3/include/stdint-gcc.h"
 1909              		.file 3 "./lib/STM32_USB-FS-Device_Driver/inc/usb_core.h"
 1910              		.file 4 "./lib/STM32_USB-FS-Device_Driver/inc/usb_def.h"
 1911              		.file 5 "./lib/CMSIS/Include/core_cm3.h"
 1912              		.file 6 "./inc/systick.h"
 1913              		.file 7 "./lib/STM32_USB-FS-Device_Driver/inc/usb_init.h"
 1914              		.file 8 "./lib/STM32_USB-FS-Device_Driver/inc/usb_mem.h"
 1915              		.file 9 "./lib/STM32_USB-FS-Device_Driver/inc/usb_regs.h"
DEFINED SYMBOLS
                            *ABS*:00000000 usb_core.c
  R:\TEMP\ccjlDydx.s:19     .text.Standard_GetConfiguration:00000000 $t
  R:\TEMP\ccjlDydx.s:24     .text.Standard_GetConfiguration:00000000 Standard_GetConfiguration
  R:\TEMP\ccjlDydx.s:62     .text.Standard_GetConfiguration:0000001c $d
  R:\TEMP\ccjlDydx.s:68     .text.Standard_GetInterface:00000000 $t
  R:\TEMP\ccjlDydx.s:73     .text.Standard_GetInterface:00000000 Standard_GetInterface
  R:\TEMP\ccjlDydx.s:110    .text.Standard_GetInterface:0000001c $d
  R:\TEMP\ccjlDydx.s:116    .text.Standard_GetStatus:00000000 $t
  R:\TEMP\ccjlDydx.s:121    .text.Standard_GetStatus:00000000 Standard_GetStatus
  R:\TEMP\ccjlDydx.s:241    .text.Standard_GetStatus:00000090 $d
  R:\TEMP\ccjlDydx.s:248    .text.DataStageIn:00000000 $t
  R:\TEMP\ccjlDydx.s:252    .text.DataStageIn:00000000 DataStageIn
  R:\TEMP\ccjlDydx.s:376    .text.DataStageIn:00000088 $d
  R:\TEMP\ccjlDydx.s:386    .text.Standard_SetConfiguration:00000000 $t
  R:\TEMP\ccjlDydx.s:391    .text.Standard_SetConfiguration:00000000 Standard_SetConfiguration
  R:\TEMP\ccjlDydx.s:437    .text.Standard_SetConfiguration:0000002c $d
  R:\TEMP\ccjlDydx.s:444    .text.Standard_SetInterface:00000000 $t
  R:\TEMP\ccjlDydx.s:449    .text.Standard_SetInterface:00000000 Standard_SetInterface
  R:\TEMP\ccjlDydx.s:509    .text.Standard_SetInterface:0000003c $d
  R:\TEMP\ccjlDydx.s:516    .text.Standard_ClearFeature:00000000 $t
  R:\TEMP\ccjlDydx.s:521    .text.Standard_ClearFeature:00000000 Standard_ClearFeature
  R:\TEMP\ccjlDydx.s:674    .text.Standard_ClearFeature:000000cc $d
  R:\TEMP\ccjlDydx.s:682    .text.Standard_SetEndPointFeature:00000000 $t
  R:\TEMP\ccjlDydx.s:687    .text.Standard_SetEndPointFeature:00000000 Standard_SetEndPointFeature
  R:\TEMP\ccjlDydx.s:787    .text.Standard_SetEndPointFeature:00000080 $d
  R:\TEMP\ccjlDydx.s:794    .text.Standard_SetDeviceFeature:00000000 $t
  R:\TEMP\ccjlDydx.s:799    .text.Standard_SetDeviceFeature:00000000 Standard_SetDeviceFeature
  R:\TEMP\ccjlDydx.s:828    .text.Standard_SetDeviceFeature:0000001c $d
  R:\TEMP\ccjlDydx.s:834    .text.Standard_GetDescriptorData:00000000 $t
  R:\TEMP\ccjlDydx.s:839    .text.Standard_GetDescriptorData:00000000 Standard_GetDescriptorData
  R:\TEMP\ccjlDydx.s:873    .text.Standard_GetDescriptorData:00000018 $d
  R:\TEMP\ccjlDydx.s:878    .text.Post0_Process:00000000 $t
  R:\TEMP\ccjlDydx.s:883    .text.Post0_Process:00000000 Post0_Process
  R:\TEMP\ccjlDydx.s:923    .text.Post0_Process:00000030 $d
  R:\TEMP\ccjlDydx.s:931    .text.Out0_Process:00000000 $t
  R:\TEMP\ccjlDydx.s:936    .text.Out0_Process:00000000 Out0_Process
  R:\TEMP\ccjlDydx.s:1105   .text.Out0_Process:000000bc $d
  R:\TEMP\ccjlDydx.s:1115   .text.Setup0_Process:00000000 $t
  R:\TEMP\ccjlDydx.s:1120   .text.Setup0_Process:00000000 Setup0_Process
  R:\TEMP\ccjlDydx.s:1608   .text.Setup0_Process:00000258 $d
  R:\TEMP\ccjlDydx.s:1618   .text.Setup0_Process:00000274 $t
  R:\TEMP\ccjlDydx.s:1708   .text.Setup0_Process:000002e0 $d
  R:\TEMP\ccjlDydx.s:1720   .text.SetDeviceAddress:00000000 $t
  R:\TEMP\ccjlDydx.s:1725   .text.SetDeviceAddress:00000000 SetDeviceAddress
  R:\TEMP\ccjlDydx.s:1777   .text.SetDeviceAddress:00000038 $d
  R:\TEMP\ccjlDydx.s:1783   .text.In0_Process:00000000 $t
  R:\TEMP\ccjlDydx.s:1788   .text.In0_Process:00000000 In0_Process
  R:\TEMP\ccjlDydx.s:1868   .text.In0_Process:00000054 $d
  R:\TEMP\ccjlDydx.s:1875   .text.NOP_Process:00000000 $t
  R:\TEMP\ccjlDydx.s:1880   .text.NOP_Process:00000000 NOP_Process
  R:\TEMP\ccjlDydx.s:1897   .bss.Data_Mul_MaxPacketSize:00000000 Data_Mul_MaxPacketSize
  R:\TEMP\ccjlDydx.s:1904   .bss.StatusInfo:00000000 StatusInfo
  R:\TEMP\ccjlDydx.s:1898   .bss.Data_Mul_MaxPacketSize:00000000 $d
  R:\TEMP\ccjlDydx.s:1900   .bss.StatusInfo:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
pInformation
pUser_Standard_Requests
GetEPTxAddr
UserToPMABufferCopy
SetEPTxCount
SaveTState
SaveRState
Device_Table
pProperty
ClearDTOG_TX
SetEPTxStatus
SetEPRxCount
ClearDTOG_RX
Device_Property
GetEPRxAddr
PMAToUserBufferCopy
ByteSwap
